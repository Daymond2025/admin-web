"use strict";(self.webpackChunkdaymond_dash=self.webpackChunkdaymond_dash||[]).push([[169],{1169:(Lt,I,g)=>{g.r(I),g.d(I,{ProductsModule:()=>Vt});var l=g(177),m=g(8029),_=g(4930),N=g(8599),t=g(4438),M=g(1056),y=g(6883);const T=(i,a)=>({"bg-success":i,"bg-danger":a}),Y=()=>[];function D(i,a){1&i&&(t.j41(0,"div",28)(1,"div",29)(2,"span",21),t.EFF(3,"Loading..."),t.k0s()()())}function z(i,a){if(1&i&&(t.j41(0,"span",45),t.EFF(1),t.k0s()),2&i){const e=t.XpG().$implicit;t.Y8G("ngClass",t.l_i(2,T,e.stock>0,e.stock<=0)),t.R7$(),t.SpI(" ",e.stock>0?"En vente":"Hors stock"," ")}}function A(i,a){1&i&&(t.j41(0,"span",46),t.EFF(1," En attente "),t.k0s())}function V(i,a){1&i&&(t.j41(0,"span",46),t.EFF(1," D\xe9sactiv\xe9 "),t.k0s())}function L(i,a){if(1&i&&t.nrm(0,"img",47),2&i){const e=t.XpG().$implicit;t.FS9("alt",e.name),t.Y8G("src",e.images[0]||"assets/img/placeholder.png",t.B4B)}}function q(i,a){if(1&i&&(t.j41(0,"div",32)(1,"div",33),t.DNE(2,z,2,5,"span",34)(3,A,2,0,"span",35)(4,V,2,0,"span",35),t.j41(5,"div",36),t.DNE(6,L,1,2,"img",37),t.k0s(),t.j41(7,"div",38)(8,"h5",39),t.EFF(9),t.nI1(10,"truncate"),t.k0s(),t.j41(11,"p",40),t.EFF(12),t.nI1(13,"currency"),t.k0s(),t.j41(14,"div",41)(15,"small",42),t.EFF(16," Stock "),t.j41(17,"span",43),t.EFF(18),t.k0s(),t.EFF(19),t.k0s(),t.nrm(20,"img",44),t.k0s()()()()),2&i){const e=a.$implicit;t.Y8G("routerLink","detail/"+e.id),t.R7$(2),t.Y8G("ngIf",null==e?null:e.publish),t.R7$(),t.Y8G("ngIf",null==(null==e?null:e.publish)),t.R7$(),t.Y8G("ngIf",1==(null==e?null:e.invisible)),t.R7$(2),t.Y8G("ngIf",e.images.length>0),t.R7$(3),t.SpI(" ",t.i5U(10,10,e.name,23)," "),t.R7$(3),t.SpI(" ",t.i5U(13,13,e.price.price,"CFA")," "),t.R7$(6),t.JRh(e.stock),t.R7$(),t.SpI(" / ",e.views," Pi\xe8ces "),t.R7$(),t.Y8G("src",e.shop.business.logo,t.B4B)}}function X(i,a){if(1&i&&(t.j41(0,"div")(1,"div",30),t.DNE(2,q,21,16,"div",31),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.filteredProducts)}}function U(i,a){1&i&&(t.j41(0,"div",48)(1,"p",49),t.EFF(2,"Aucun produit trouv\xe9"),t.k0s()())}function J(i,a){if(1&i){const e=t.RV6();t.j41(0,"li",52)(1,"a",58),t.bIt("click",function(){const o=t.eBV(e).index,r=t.XpG(2);return t.Njj(r.goToPage(o+1))}),t.EFF(2),t.k0s()()}if(2&i){const e=a.index,n=t.XpG(2);t.AVh("active",n.currentPage===e+1),t.R7$(2),t.JRh(e+1)}}function H(i,a){if(1&i){const e=t.RV6();t.j41(0,"nav",50)(1,"ul",51)(2,"li",52)(3,"a",53),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goToPage(o.currentPage-1))}),t.nrm(4,"img",54),t.k0s()(),t.DNE(5,J,3,3,"li",55),t.j41(6,"li",52)(7,"a",56),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goToPage(o.currentPage+1))}),t.nrm(8,"img",57),t.k0s()()()()}if(2&i){const e=t.XpG();t.R7$(2),t.AVh("disabled",1===e.currentPage),t.R7$(3),t.Y8G("ngForOf",t.lJ4(5,Y).constructor(e.totalPages)),t.R7$(),t.AVh("disabled",e.currentPage===e.totalPages)}}let R=(()=>{class i{constructor(e,n){this.produitsService=e,this.utilisService=n,this.listProducts=[],this.filteredProducts=[],this.isLoading=!1,this.filterStatus="",this.currentPage=1,this.totalPages=1,this.perPage=5}ngOnInit(){this.loadProducts()}loadProducts(e){this.isLoading=!0,this.produitsService.getAll(e).subscribe({next:n=>{this.utilisService.response(n,o=>{console.log("produits",o),o.data?(this.dataGlobal=n,this.listProducts=(0,_.e)(o.data),this.filteredProducts=this.listProducts,this.isLoading=!1,this.currentPage=o.meta?.current_page,this.totalPages=o.meta?.last_page,this.perPage=o.meta?.per_page):(console.error("No content found in response"),this.isLoading=!1)})},error:n=>{this.utilisService.response(n,o=>{})}})}goToPage(e){e>=1&&e<=this.totalPages&&this.loadProducts({page:e})}filterByInStock(){this.filterStatus="inStock",this.loadProducts({page:1,_stock:!0})}filterByPublished(){this.filterStatus="published",this.loadProducts({page:1,publish:!0})}filterByOutOfStock(){this.filterStatus="outOfStock",this.loadProducts({page:1,_stock:""})}filterByInactive(){this.filterStatus="inactive",this.loadProducts({page:1,unavailable:""})}resetFilter(){this.filterStatus="",this.loadProducts()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(M.q),t.rXU(y.M))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-new"]],standalone:!0,features:[t.aNF],decls:43,vars:15,consts:[[1,"container-fluid","mt-5","p-3"],[1,"row","d-flex","p-3","box-1"],[1,"col-md-7","d-flex","justify-content-between","mb-3","mb-md-0"],[1,"nav","gap-3"],[1,"btn","btn-round","btn-border",3,"click"],[1,"col-md-3","ms-auto","d-flex","justify-content-end"],["routerLink","add",1,"btn","btn-primary","btn-border","btn-round","btn-add",2,"width","70%","min-width","200px","max-height","40px"],[1,"pt-2","px-3",2,"height","70vh !important","background-color","#f8f9fd","overflow-y","auto","overflow-x","hidden"],[1,"row","mt-1","p-2"],[1,"col-12","d-flex","justify-content-between","align-items-center","pt-2","pb-2",2,"background-color","#f8f8fb","border-bottom","1px solid #c4c4c4"],[1,"col-4"],[1,"mb-0"],[1,"col-8","d-flex","justify-content-end","align-items-center"],[1,"input-group","me-2",2,"width","50%"],[1,"input-group","search-bar"],["type","text","placeholder","Recherche",1,"form-control"],[1,"input-group-append"],[1,"input-group-text"],[1,"fa","fa-search","search-icon"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-round","dropdown-toggle","btn-tri",2,"padding-right","1.5rem","position","relative"],[1,"visually-hidden"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[1,"dropdown-item"],["class","loader-container",4,"ngIf"],[4,"ngIf"],["class","d-flex justify-content-center align-items-center","style","height: 50vh",4,"ngIf"],["aria-label","Page navigation","style","margin-top: 20px",4,"ngIf"],[1,"loader-container"],["role","status",1,"spinner-border","text-primary"],[1,"row","mt-3"],["class","col-md-3 col-sm-6 mb-4","style","min-width: 300px",3,"routerLink",4,"ngFor","ngForOf"],[1,"col-md-3","col-sm-6","mb-4",2,"min-width","300px",3,"routerLink"],[1,"card","product-card"],["class","badge py-2 px-4 badge-round",3,"ngClass",4,"ngIf"],["class","badge py-2 px-4 badge-round bg-warning",4,"ngIf"],[1,"p-2"],["class","card-img-top",3,"src","alt",4,"ngIf"],[1,"card-body"],[1,"card-title","mt-0"],[1,"card-price"],[1,"d-flex","justify-content-between"],[1,"text-muted"],[1,"stock-number"],["alt","","height","30","width","30",2,"border-radius","50%",3,"src"],[1,"badge","py-2","px-4","badge-round",3,"ngClass"],[1,"badge","py-2","px-4","badge-round","bg-warning"],[1,"card-img-top",3,"src","alt"],[1,"d-flex","justify-content-center","align-items-center",2,"height","50vh"],[1,"text-center"],["aria-label","Page navigation",2,"margin-top","20px"],[1,"pagination"],[1,"page-item"],["aria-label","Previous",1,"page-link",3,"click"],["src","assets/img/left.png","alt","Previous","width","10","height","10"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Next",1,"page-link",3,"click"],["src","assets/img/right.png","alt","Next","width","10","height","10"],[1,"page-link",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),t.bIt("click",function(){return o.resetFilter()}),t.EFF(5," Tous "),t.k0s(),t.j41(6,"button",4),t.bIt("click",function(){return o.filterByInStock()}),t.EFF(7," En stock "),t.k0s(),t.j41(8,"button",4),t.bIt("click",function(){return o.filterByPublished()}),t.EFF(9," Publier "),t.k0s(),t.j41(10,"button",4),t.bIt("click",function(){return o.filterByOutOfStock()}),t.EFF(11," Stock \xe9puis\xe9 "),t.k0s(),t.j41(12,"button",4),t.bIt("click",function(){return o.filterByInactive()}),t.EFF(13," Inactifs "),t.k0s()()(),t.j41(14,"div",5)(15,"button",6),t.EFF(16," Ajouter un produit "),t.k0s()()(),t.j41(17,"div",7)(18,"div",8)(19,"div",9)(20,"div",10)(21,"p",11),t.EFF(22),t.k0s()(),t.j41(23,"div",12)(24,"div",13)(25,"div",14),t.nrm(26,"input",15),t.j41(27,"div",16)(28,"span",17),t.nrm(29,"i",18),t.k0s()()()(),t.j41(30,"div",19)(31,"button",20),t.EFF(32," Trier "),t.j41(33,"span",21),t.EFF(34,"Toggle Dropdown"),t.k0s()(),t.j41(35,"ul",22)(36,"li")(37,"a",23),t.EFF(38,"Action"),t.k0s()()()()()()(),t.DNE(39,D,4,0,"div",24)(40,X,3,1,"div",25)(41,U,3,0,"div",26)(42,H,9,6,"nav",27),t.k0s()()),2&n&&(t.R7$(4),t.AVh("active",""===o.filterStatus),t.R7$(2),t.AVh("active","inStock"===o.filterStatus),t.R7$(2),t.AVh("active","published"===o.filterStatus),t.R7$(2),t.AVh("active","outOfStock"===o.filterStatus),t.R7$(2),t.AVh("active","inactive"===o.filterStatus),t.R7$(10),t.SpI("Total: ",o.listProducts.length,""),t.R7$(17),t.Y8G("ngIf",o.isLoading),t.R7$(),t.Y8G("ngIf",!o.isLoading),t.R7$(),t.Y8G("ngIf",!o.isLoading&&0===o.filteredProducts.length),t.R7$(),t.Y8G("ngIf",!o.isLoading&&o.totalPages>1))},dependencies:[l.MD,l.YU,l.Sq,l.bT,l.oe,N.H,m.iI,m.Wk],styles:[".loader-container[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;height:30vh!important}.spinner-border[_ngcontent-%COMP%]{width:4rem!important;height:4rem!important;color:#ff9500!important}button.btn.active[_ngcontent-%COMP%]{background-color:#3688fa!important;border-color:1px solid #3ca2ff!important;color:#fff!important}.card-1[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #3688fa;border-radius:10px}.card-1[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#3688fa;text-transform:uppercase}.card-2[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #f87957;border-radius:10px}.card-2[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#f87957}.card-2[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#f87957;text-transform:uppercase}.card-3[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #36c600;border-radius:10px}.card-3[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#36c600}.card-3[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#36c600;text-transform:uppercase}.card-4[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #ff9500;border-radius:10px}.card-4[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#ff9500}.card-4[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#ff9500;text-transform:uppercase}.container-fluid[_ngcontent-%COMP%]{width:auto!important;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]{justify-content:flex-end!important;border-bottom:#00000029 1px solid;width:inherit}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:1px solid #c4c4c4!important;color:#707070}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background-color:#ff9500!important;border:1px solid #ff9500!important;color:#fff!important}.container-fluid[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn-tri[_ngcontent-%COMP%]{border:1px solid #c4c4c4!important;color:#707070!important}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{background-color:#3688fa!important;border:1px solid #3ca2ff!important;color:#fff!important;font-weight:700}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover, .container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:focus{background-color:#ff9500!important;border:1px solid #ff9500!important;color:#fff!important;font-weight:400}.product-card[_ngcontent-%COMP%]{width:100%;background-color:#fff;position:relative;border-color:#f8f8fb}.product-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.product-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:200px;object-fit:cover;box-shadow:0 4px 8px #0003}.product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.product-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:0}.product-card[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%]{font-weight:700;color:#3688fa}.product-card[_ngcontent-%COMP%]   .stock-number[_ngcontent-%COMP%]{color:#3688fa!important}@media (max-width: 768px){.product-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:300px;object-fit:cover;box-shadow:0 4px 8px #0003}}.search-bar[_ngcontent-%COMP%]{position:relative;width:500px}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 20px;border:1px solid #ccc;border-radius:20px!important;transition:border-color .3s ease}.input-group[_ngcontent-%COMP%]{margin-right:15px}.input-group-append[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:0;top:50%;transform:translateY(-50%)}.input-group-text[_ngcontent-%COMP%]{background:transparent;border:none;padding-right:10px}.input-group-bar[_ngcontent-%COMP%]{width:1px;height:20px;background-color:#999;margin-right:6px}.search-icon[_ngcontent-%COMP%]{color:#999}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:red;outline:none}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(:placeholder-shown){border-color:red}.page-item[_ngcontent-%COMP%]{height:40px;width:40px;min-height:40px;background-color:#fff;display:flex;align-items:center;justify-content:center;border-radius:5px;margin-right:10px}.page-item1[_ngcontent-%COMP%]{height:40px;width:40px;min-height:40px;background-color:#f8f9fd;display:flex;align-items:center;justify-content:center;margin-right:3px}.actived[_ngcontent-%COMP%]{background-color:#0bf;color:#fff}.actived[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}"]})}}return i})();var Q=g(8032),p=g.n(Q),d=g(4341),S=g(9136);const W=(i,a)=>({"bg-success":i,"bg-danger":a}),K=(i,a,e)=>({"bg-success":i,"bg-danger":a,"bg-warning":e});function Z(i,a){1&i&&(t.j41(0,"div",6)(1,"div",7)(2,"span",8),t.EFF(3,"Loading..."),t.k0s()()())}function tt(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",64),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.openImageModal(o))}),t.nrm(1,"img",65),t.k0s()}if(2&i){const e=a.$implicit;t.R7$(),t.Y8G("src",e||"assets/img/placeholder.png",t.B4B)}}function et(i,a){if(1&i&&(t.j41(0,"p",66),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.R7$(),t.SpI(" ",e," ")}}function ot(i,a){1&i&&(t.j41(0,"p",67),t.EFF(1," RAS "),t.k0s())}function nt(i,a){if(1&i&&(t.j41(0,"p",68),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.R7$(),t.SpI(" ",e," ")}}function it(i,a){1&i&&(t.j41(0,"p",69),t.EFF(1," RAS "),t.k0s())}function rt(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",70),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.hideProduct())}),t.EFF(1," Masquer "),t.k0s()}}function at(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",71),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.markAsNonCompliant())}),t.EFF(1," Non conforme "),t.k0s()}}function dt(i,a){1&i&&(t.j41(0,"button",72),t.EFF(1," Mettre en stock "),t.k0s())}function st(i,a){if(1&i&&(t.j41(0,"button",73),t.EFF(1," Publier "),t.k0s()),2&i){const e=t.XpG(2);t.Mz_("routerLink","/distribution/produits/publish/",e.product.id,"")}}function lt(i,a){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),t.nrm(5,"app-back-button"),t.j41(6,"p",13),t.EFF(7,"Aper\xe7u"),t.k0s()(),t.j41(8,"div",14)(9,"div",15)(10,"span",16),t.EFF(11),t.k0s()(),t.j41(12,"div",17)(13,"span",16),t.EFF(14),t.k0s()(),t.j41(15,"div",18)(16,"p",19),t.EFF(17),t.nrm(18,"br"),t.j41(19,"span",20),t.EFF(20),t.nI1(21,"date"),t.k0s()()()()()(),t.j41(22,"div",21),t.DNE(23,tt,2,1,"div",22),t.k0s(),t.j41(24,"div",21)(25,"div",23)(26,"p",24),t.EFF(27),t.k0s(),t.j41(28,"p",25),t.EFF(29," Prix d'en gros "),t.k0s(),t.j41(30,"p",26),t.EFF(31),t.nI1(32,"currency"),t.k0s(),t.j41(33,"p",25),t.EFF(34),t.k0s(),t.j41(35,"p",27),t.EFF(36),t.k0s()(),t.j41(37,"div",28)(38,"p",29),t.EFF(39," Caracteristique "),t.k0s(),t.j41(40,"p",30),t.EFF(41),t.nrm(42,"br"),t.EFF(43),t.k0s()(),t.j41(44,"div",23)(45,"p",29),t.EFF(46," \xc9tat du produit : "),t.j41(47,"span",31),t.EFF(48),t.k0s()(),t.j41(49,"div",32)(50,"div",33)(51,"p",29),t.EFF(52," Taille du produit "),t.k0s()(),t.nrm(53,"div",34),t.k0s(),t.j41(54,"div",35),t.DNE(55,et,2,1,"p",36)(56,ot,2,0,"p",37),t.k0s(),t.j41(57,"div",32)(58,"div",33)(59,"p",29),t.EFF(60," Couleur du produit "),t.k0s()(),t.nrm(61,"div",34),t.k0s(),t.j41(62,"div",35),t.DNE(63,nt,2,1,"p",38)(64,it,2,0,"p",39),t.k0s()()()(),t.j41(65,"div",40)(66,"div",41)(67,"div",42)(68,"small",43),t.EFF(69),t.k0s(),t.j41(70,"p",44),t.EFF(71),t.nI1(72,"date"),t.k0s()(),t.j41(73,"div",45)(74,"div")(75,"small",43),t.EFF(76),t.k0s(),t.j41(77,"p",44),t.EFF(78),t.nI1(79,"date"),t.k0s()()(),t.j41(80,"div",46)(81,"div",47),t.nrm(82,"img",48),t.k0s(),t.j41(83,"div")(84,"small",43),t.EFF(85),t.k0s(),t.j41(86,"p",44),t.EFF(87),t.nI1(88,"date"),t.k0s()()(),t.j41(89,"div",49),t.nrm(90,"img",50),t.j41(91,"div",51)(92,"small",52),t.EFF(93),t.k0s(),t.j41(94,"p",44),t.EFF(95),t.nrm(96,"br"),t.EFF(97),t.k0s()()()(),t.j41(98,"div",53)(99,"div",54)(100,"button",55),t.nrm(101,"img",56),t.EFF(102," Marquer "),t.k0s(),t.j41(103,"ul",57),t.DNE(104,rt,2,0,"div",58),t.j41(105,"div",59),t.EFF(106," Modifier les infos "),t.k0s(),t.j41(107,"div",60),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.deleteProduct())}),t.EFF(108," Supprimer "),t.k0s(),t.DNE(109,at,2,0,"div",61),t.k0s()(),t.DNE(110,dt,2,0,"button",62)(111,st,2,2,"button",63),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(10),t.Y8G("ngClass",t.l_i(50,W,e.product.stock>0,e.product.stock<=0)),t.R7$(),t.JRh(e.product.stock>0?"En vente":"Hors stock"),t.R7$(2),t.Y8G("ngClass",t.sMw(53,K,1===e.product.publish,0===e.product.publish,null===e.product.publish)),t.R7$(),t.SpI(" ",1===e.product.publish?"Publier":0===e.product.publish?"Non conforme":"En cours de validation"," "),t.R7$(3),t.SpI(" ",e.product.created_at_fr," "),t.R7$(3),t.JRh(t.i5U(21,35,e.product.created_at,"HH:mm")),t.R7$(3),t.Y8G("ngForOf",e.product.images),t.R7$(4),t.SpI(" ",e.product.name," "),t.R7$(4),t.SpI(" ",t.i5U(32,38,e.product.price.price,"FCFA")," "),t.R7$(3),t.SpI(" Stocks ",e.product.stock," pi\xe8ces "),t.R7$(2),t.SpI(" N\xb0",e.product.code," "),t.R7$(5),t.SpI(" ",e.product.alias," "),t.R7$(2),t.SpI(" ",null==e.product?null:e.product.description," "),t.R7$(5),t.SpI(" ",e.product.state.name.toLocaleUpperCase(),""),t.R7$(7),t.Y8G("ngForOf",e.product.sizes),t.R7$(),t.Y8G("ngIf",!(null!=e.product.sizes&&e.product.sizes.length)),t.R7$(7),t.Y8G("ngForOf",e.product.colors),t.R7$(),t.Y8G("ngIf",!(null!=e.product.colors&&e.product.colors.length)),t.R7$(5),t.JRh(e.product.shop.business.name),t.R7$(2),t.JRh(t.i5U(72,41,e.product.shop.updated_at,"dd/mm/yy hh:mm")),t.R7$(5),t.JRh(e.product.shop.business.name),t.R7$(2),t.SpI(" ",t.i5U(79,44,e.product.shop.updated_at,"dd/mm/yy hh:mm")," "),t.R7$(4),t.Y8G("src",e.product.shop.business.logo,t.B4B),t.R7$(3),t.JRh(e.product.shop.business.name),t.R7$(2),t.SpI(" ",t.i5U(88,47,e.product.shop.updated_at,"dd/mm/yy hh:mm")," "),t.R7$(3),t.Y8G("src",e.product.shop.business.logo,t.B4B),t.R7$(3),t.SpI("",e.product.shop.business.name.toLocaleUpperCase()," "),t.R7$(2),t.SpI("",e.product.shop.code," "),t.R7$(2),t.JRh(e.product.shop.business.address),t.R7$(7),t.Y8G("ngIf",0==e.product.publish&&null==e.product.publish),t.R7$(),t.Mz_("routerLink","/distribution/produits/publish/",e.product.id,""),t.R7$(4),t.Y8G("ngIf",null==e.product.publish||0==e.product.publish),t.R7$(),t.Y8G("ngIf",e.product.out_stock<0),t.R7$(),t.Y8G("ngIf",null==e.product.publish||0==e.product.publish)}}function ct(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",74),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closeImageModal())}),t.nrm(1,"img",75),t.k0s()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("src",e.selectedImage,t.B4B)}}let pt=(()=>{class i{constructor(e,n,o,r){this.route=e,this.produitsService=n,this.router=o,this.utilisService=r,this.isLoading=!0,this.selectedImage=null}ngOnInit(){this.loadProductDetail()}loadProductDetail(){const e=this.route.snapshot?.paramMap.get("id");e?this.produitsService.getById(`${e}`).subscribe({next:n=>{this.utilisService.response(n,o=>{o.data?(this.product=(0,_.e)(o.data)[0],this.isLoading=!1,console.log(this.product)):console.error("No content found in response")})},error:n=>{console.error(n),this.isLoading=!1}}):(console.error("Product ID is missing"),this.isLoading=!1)}openImageModal(e){this.selectedImage=e}closeImageModal(){this.selectedImage=null}hideProduct(){this.openReasonModal("Masquer")}markAsNonCompliant(){this.openReasonModal("Non conforme")}openReasonModal(e){p().fire({title:`Raison de ${e}`,input:"text",inputPlaceholder:"Entrez la raison...",showCancelButton:!0,confirmButtonText:"Soumettre",cancelButtonText:"Annuler"}).then(n=>{n.isConfirmed&&n.value&&this.submitStatusChange(e,n.value)})}submitStatusChange(e,n){const o=new FormData;o.append("product_id",this.product.id.toString()),o.append("reason_disapproved",n),o.append("publish","false"),this.produitsService.createOrNo(o).subscribe({next:r=>{p().fire({title:"Succ\xe8s",text:"Le statut a \xe9t\xe9 mis \xe0 jour avec succ\xe8s!",icon:"success",confirmButtonText:"OK"})},error:r=>{p().fire({title:"Erreur",text:`Une erreur est survenue: ${r.message||"Veuillez r\xe9essayer."}`,icon:"error",confirmButtonText:"OK"}),console.error("Error updating status",r)}})}deleteProduct(){p().fire({title:"Confirmation",text:"Voulez-vous vraiment supprimer ce produit ?",icon:"warning",showCancelButton:!0,confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"}).then(e=>{if(e.isConfirmed){const n=this.product.id.toString();this.produitsService.delete(`${n}`).subscribe({next:o=>{p().fire({title:"Succ\xe8s",text:"Le produit a \xe9t\xe9 supprim\xe9 avec succ\xe8s",icon:"success",confirmButtonText:"OK"}).then(()=>{this.router.navigate(["distribution/produits"])})},error:o=>{p().fire({title:"Erreur",text:`Erreur lors de la suppression: ${o.message||"Veuillez r\xe9essayer."}`,icon:"error",confirmButtonText:"OK"}),console.error("Erreur suppression",o)}})}})}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(m.nX),t.rXU(M.q),t.rXU(m.Ix),t.rXU(y.M))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-detail"]],standalone:!0,features:[t.aNF],decls:6,vars:3,consts:[[1,"container-fluid","mt-5","p-3"],[1,"tab-content"],["id","nav-home",1,"tab-pane","fade","show","active"],["class","loader-container",4,"ngIf"],[4,"ngIf"],["class","image-modal","style","\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgba(0, 0, 0, 0.8);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 1000;\n    cursor: pointer;\n  ",3,"click",4,"ngIf"],[1,"loader-container"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"pt-2","px-3"],[1,"row","mt-1","p-2"],[1,"col-12","d-flex","justify-content-between","align-items-center","pt-2","pb-2",2,"background-color","#f8f8fb","border-bottom","1px solid #c4c4c4"],[1,"col-4","d-flex","align-items-center"],[1,"mb-0"],[1,"col-8","d-flex","justify-content-end","align-items-center"],[1,"input-group","me-5",2,"width","10%"],[1,"badge","text-bg-primary",3,"ngClass"],[1,"input-group",2,"width","20%"],[2,"height","50px","background-color","white","box-shadow","0 2px 2px rgba(0, 0, 0, 0.071)","border-radius","5px","padding-left","10px","padding-right","10px","padding-top","3px"],[1,"card-price",2,"font-size","0.9rem","color","black"],[2,"font-size","0.7rem","color","gray"],[1,"mt-3",2,"display","flex","gap","10px","flex-wrap","wrap"],["class","iamge1","style","width: 230px; height: 150px",3,"click",4,"ngFor","ngForOf"],[2,"width","30%","min-width","350px","height","250px","border","1px solid #c4c4c4","border-radius","10px"],[1,"mb-0",2,"font-size","1rem","padding-left","10px","padding-right","10px","color","black","font-weight","bolder"],[1,"mb-0",2,"font-size","0.9rem","padding-left","10px","padding-right","10px","color","black","padding-top","30px"],[1,"mb-0",2,"font-size","0.9rem","padding-left","10px","padding-right","10px","color","#3688fa"],[1,"mb-0",2,"font-size","0.9rem","padding-left","10px","padding-right","10px","color","black","font-weight","bolder","padding-top","10px"],[2,"width","30%","min-width","350px","height","250px","border","1px solid #c4c4c4","border-radius","10px","overflow-y","scroll"],[1,"mb-0",2,"font-size","0.9rem","padding-left","10px","padding-right","10px","color","black"],[2,"font-size","0.8rem","padding-left","10px","padding-right","10px"],[2,"color","orange"],[2,"width","100%","height","30px","display","flex","align-items","center","padding-right","10px"],[2,"width","40%","height","10px"],[2,"border-bottom","1px solid #c4c4c4","width","60%","height","10px"],[2,"width","100%","display","flex","align-items","center","padding-right","10px","flex-wrap","wrap","gap","10px","padding-top","10px","padding-left","10px"],["style","\n                    background-color: orange;\n                    padding: 2px 10px;\n                    border-radius: 20px;\n                    font-size: 0.8rem;\n                    color: white;\n                  ",4,"ngFor","ngForOf"],["style","color: gray; font-size: 0.9rem",4,"ngIf"],["style","\n                    background-color: black;\n                    padding: 2px 10px;\n                    border-radius: 20px;\n                    font-size: 0.5rem;\n                    color: white;\n                  ",4,"ngFor","ngForOf"],["style","color: black; font-size: 0.9rem",4,"ngIf"],[1,"forue","mt-3"],[1,"forue1"],[1,"forue11",2,"border-left","1px solid #ccc"],[2,"font-weight","bolder","font-size","0.7rem"],[2,"font-size","0.5rem"],[1,"d-flex","justify-content-center","align-items-center","px-5",2,"border-left","1px solid #ccc"],[1,"d-flex","justify-content-center","align-items-center",2,"border-left","1px solid #ccc"],[1,"mx-3"],["alt","",1,"img-circle",2,"width","40px !important","height","40px !important","border-radius","100%",3,"src"],[1,"forue112"],["alt","","width","120","height","60",1,"img-circle",3,"src"],[1,"cersle2",2,"width","1000px !important"],[2,"font-weight","bolder","font-size","0.6rem"],[1,"forue2"],[1,"btn-group","dropup"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","dropdown-toggle",2,"background-color","white","width","auto","border","1px solid black","padding","5px 50px 5px 50px","border-radius","20px","color","black","position","relative"],["src","assets/img/update.png","alt","","width","20","height","20","routerLink","distribution/commandes/",2,"margin-right","10px","position","absolute","left","10px","top","4px"],[1,"dropdown-menu",2,"padding-left","5px","padding-right","5px"],["class","dropdown-item w-auto heigth_style","style","\n                    cursor: pointer;\n                    background-color: white;\n                    color: black;\n                    border-bottom: 1px solid rgb(231, 231, 231);\n                    padding-bottom: 5px;\n                  ",3,"click",4,"ngIf"],[1,"dropdown-item","w-auto",2,"cursor","pointer","background-color","white","color","black","border-bottom","1px solid rgb(231, 231, 231)","padding-bottom","5px",3,"routerLink"],[1,"dropdown-item","w-auto",2,"cursor","pointer","background-color","white","color","black","border-bottom","1px solid rgb(231, 231, 231)","padding-bottom","5px",3,"click"],["class","dropdown-item w-auto","style","\n                    cursor: pointer;\n                    background-color: white;\n                    color: black;\n                    border: none;\n                    padding-bottom: 5px;\n                  ",3,"click",4,"ngIf"],["style","\n                background-color: white;\n                width: auto;\n                border: 1px solid orange;\n                padding: 5px 50px 5px 50px;\n                border-radius: 20px;\n                color: orange;\n              ","routerLink","/products/add",4,"ngIf"],["style","\n                background-color: orange;\n                width: auto;\n                border: 1px solid orange;\n                padding: 5px 50px 5px 50px;\n                border-radius: 20px;\n                color: white;\n              ",3,"routerLink",4,"ngIf"],[1,"iamge1",2,"width","230px","height","150px",3,"click"],["alt","Product Image","height","100%","width","100%",2,"border-radius","5px","margin-right","3px",3,"src"],[2,"background-color","orange","padding","2px 10px","border-radius","20px","font-size","0.8rem","color","white"],[2,"color","gray","font-size","0.9rem"],[2,"background-color","black","padding","2px 10px","border-radius","20px","font-size","0.5rem","color","white"],[2,"color","black","font-size","0.9rem"],[1,"dropdown-item","w-auto","heigth_style",2,"cursor","pointer","background-color","white","color","black","border-bottom","1px solid rgb(231, 231, 231)","padding-bottom","5px",3,"click"],[1,"dropdown-item","w-auto",2,"cursor","pointer","background-color","white","color","black","border","none","padding-bottom","5px",3,"click"],["routerLink","/products/add",2,"background-color","white","width","auto","border","1px solid orange","padding","5px 50px 5px 50px","border-radius","20px","color","orange"],[2,"background-color","orange","width","auto","border","1px solid orange","padding","5px 50px 5px 50px","border-radius","20px","color","white",3,"routerLink"],[1,"image-modal",2,"position","fixed","top","0","left","0","width","100vw","height","100vh","background-color","rgba(0, 0, 0, 0.8)","display","flex","justify-content","center","align-items","center","z-index","1000","cursor","pointer",3,"click"],["alt","Selected Product Image",2,"max-width","85%","max-height","70%","border-radius","10px",3,"src"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.DNE(3,Z,4,0,"div",3)(4,lt,112,57,"div",4),t.k0s()()(),t.DNE(5,ct,2,1,"div",5)),2&n&&(t.R7$(3),t.Y8G("ngIf",o.isLoading),t.R7$(),t.Y8G("ngIf",!o.isLoading&&o.product),t.R7$(),t.Y8G("ngIf",o.selectedImage))},dependencies:[l.MD,l.YU,l.Sq,l.bT,l.oe,l.vh,m.iI,m.Wk,d.YN,d.X1,S.X],styles:[".loader-container[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;height:30vh!important}.spinner-border[_ngcontent-%COMP%]{width:4rem!important;height:4rem!important;color:#ff9500!important}.card-1[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #3688fa;border-radius:10px}.card-1[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#3688fa;text-transform:uppercase}.card-2[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #f87957;border-radius:10px}.card-2[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#f87957}.card-2[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#f87957;text-transform:uppercase}.card-3[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #36c600;border-radius:10px}.card-3[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#36c600}.card-3[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#36c600;text-transform:uppercase}.card-4[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #ff9500;border-radius:10px}.card-4[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#ff9500}.card-4[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#ff9500;text-transform:uppercase}.container-fluid[_ngcontent-%COMP%]{width:auto!important;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]{justify-content:flex-end!important;border-bottom:#00000029 1px solid;width:inherit}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:1px solid #c4c4c4!important;color:#707070!important}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background-color:#ff9500!important;border:1px solid #ff9500!important;color:#fff!important}.container-fluid[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn-tri[_ngcontent-%COMP%]{border:1px solid #c4c4c4!important;color:#707070!important}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{background-color:#3688fa!important;border:1px solid #3ca2ff!important;color:#fff!important;font-weight:700}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover, .container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:focus{background-color:#ff9500!important;border:1px solid #ff9500!important;color:#fff!important;font-weight:400}.product-card[_ngcontent-%COMP%]{width:100%;background-color:#fff;position:relative;border-color:#f8f8fb}.product-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.product-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:200px;object-fit:cover;box-shadow:0 4px 8px #0003}.product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.product-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:0}.product-card[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%]{font-weight:700;color:#3688fa}.product-card[_ngcontent-%COMP%]   .stock-number[_ngcontent-%COMP%]{color:#3688fa!important}@media (max-width: 768px){.product-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:300px;object-fit:cover;box-shadow:0 4px 8px #0003}}.search-bar[_ngcontent-%COMP%]{position:relative;width:500px}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 20px;border:1px solid #ccc;border-radius:20px!important;transition:border-color .3s ease}.input-group[_ngcontent-%COMP%]{margin-right:15px}.input-group-append[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:0;top:50%;transform:translateY(-50%)}.input-group-text[_ngcontent-%COMP%]{background:transparent;border:none;padding-right:10px}.input-group-bar[_ngcontent-%COMP%]{width:1px;height:20px;background-color:#999;margin-right:6px}.search-icon[_ngcontent-%COMP%]{color:#999}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:red;outline:none}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(:placeholder-shown){border-color:red}@media (max-width: 1000px){.forue[_ngcontent-%COMP%]{width:100%;background-color:#fff;display:flex;flex-wrap:wrap;box-shadow:0 4px 8px #0003;border-top-left-radius:20px;border-top-right-radius:20px;flex-direction:column}.forue1[_ngcontent-%COMP%]{width:100%;height:100px;display:flex;flex-wrap:wrap;align-items:center}.forue2[_ngcontent-%COMP%]{width:100%;height:100px;min-width:400px;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-start;padding-left:10px;gap:10px}}@media (min-width: 1000px){.forue[_ngcontent-%COMP%]{width:100%;background-color:#fff;display:flex;flex-wrap:wrap;box-shadow:0 4px 8px #0003;border-top-left-radius:20px;border-top-right-radius:20px}.forue1[_ngcontent-%COMP%]{width:50%;height:100px;display:flex;flex-wrap:wrap;align-items:center;padding-left:20px;padding-bottom:10px}.forue2[_ngcontent-%COMP%]{width:50%;height:100px;min-width:400px;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding-right:10px;gap:10px}}.forue11[_ngcontent-%COMP%]{height:30px;width:150px;background-color:#fff;border-left:1px solid gainsboro;display:flex;flex-direction:column;justify-content:flex-start;padding-left:10px}.forue112[_ngcontent-%COMP%]{height:30px;width:150px;background-color:#fff;border-left:1px solid gainsboro;display:flex;align-items:center;padding-left:10px}.cersle[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:100%;background-color:#000}.cersle2[_ngcontent-%COMP%]{height:60px;width:50%;background-color:#fff;padding-left:10px;padding-top:5px}@media (max-width: 1000px){.fixed_fourn[_ngcontent-%COMP%]{width:100%;height:100vh;padding-right:20px;display:flex;justify-content:center}.fixed_fourn1[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#4c4c4c6d;border-radius:20px;margin-left:30px;display:flex;justify-content:center}.formu_fourn[_ngcontent-%COMP%]{height:700px;width:95%;max-width:500px;min-width:400px;background-color:#fff;margin-top:20px;border-radius:10px}}@media (min-width: 1000px){.fixed_fourn[_ngcontent-%COMP%]{width:100%;height:100vh;padding-right:20px;display:flex;justify-content:center}.fixed_fourn1[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#4c4c4c6d;border-radius:20px;margin-left:30px;display:flex;justify-content:center}.formu_fourn[_ngcontent-%COMP%]{height:700px;width:95%;max-width:500px;min-width:400px;background-color:#fff;margin-top:50px;border-radius:10px}}"]})}}return i})();var j=g(3538);let $=(()=>{class i{constructor(e,n){this.data=e,this.dialogRef=n}closeDialog(){this.dialogRef.close()}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(j.Vh),t.rXU(j.CP))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-image-dialog"]],decls:4,vars:1,consts:[[1,"dialog-container",2,"padding","15px"],["alt","Large View",1,"dialog-image",3,"src"],["mat-button","",3,"click"]],template:function(n,o){1&n&&(t.j41(0,"div",0),t.nrm(1,"img",1),t.j41(2,"button",2),t.bIt("click",function(){return o.closeDialog()}),t.EFF(3,"Fermer"),t.k0s()()),2&n&&(t.R7$(),t.Y8G("src",o.data.image,t.B4B))},styles:[".dialog-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.dialog-image[_ngcontent-%COMP%]{width:100%;height:50vh;border-radius:10px;margin-bottom:20px}button[_ngcontent-%COMP%]{border:none;padding:8px 16px;background-color:#4caf50;color:#fff;text-align:center;text-decoration:none;display:inline-block;font-size:14px;cursor:pointer;border-radius:5px}"]})}}return i})();var B=g(7641),G=g(4442);const ut=["boutiquePopup"],h=i=>({"is-invalid":i}),gt=i=>({"background-color":i});function mt(i,a){if(1&i&&(t.j41(0,"option",73),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("ngValue",e.id),t.R7$(),t.Lme(" ",null==e||null==e.business?null:e.business.name,": ",null==e||null==e.business?null:e.business.ncc," ")}}function ht(i,a){1&i&&(t.j41(0,"span"),t.EFF(1,"PUBLIER"),t.k0s())}function ft(i,a){1&i&&(t.j41(0,"span"),t.nrm(1,"i",74),t.EFF(2," En cours... "),t.k0s())}function bt(i,a){1&i&&(t.j41(0,"div",75),t.EFF(1," Ce champ est requis "),t.k0s())}function _t(i,a){if(1&i&&(t.j41(0,"option",76),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",null==e?null:e.name," ")}}function xt(i,a){if(1&i&&(t.j41(0,"option",76),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",null==e?null:e.name," ")}}function vt(i,a){if(1&i&&(t.j41(0,"option",76),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Ct(i,a){if(1&i&&(t.j41(0,"option",76),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Ft(i,a){if(1&i&&(t.j41(0,"option",76),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function Pt(i,a){if(1&i&&(t.j41(0,"option",76),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.value),t.R7$(),t.JRh(e.name)}}function kt(i,a){if(1&i&&(t.j41(0,"div",77),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("ngStyle",t.eq3(2,gt,e.value)),t.R7$(),t.SpI(" ",e.name," ")}}function wt(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",78)(1,"img",79),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.viewImage(o))}),t.k0s(),t.j41(2,"span",80),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.viewImage(o))}),t.nrm(3,"i",81),t.k0s(),t.j41(4,"span",82),t.bIt("click",function(){const o=t.eBV(e).index,r=t.XpG();return t.Njj(r.removePreviewImage(o))}),t.nrm(5,"i",83),t.k0s()()}if(2&i){const e=a.$implicit;t.R7$(),t.Y8G("src",e,t.B4B)}}let Ot=(()=>{class i{constructor(e,n,o,r,s,u,c,f){this.fb=e,this.route=n,this.router=o,this.globalService=r,this.shopService=s,this.produitsService=u,this.dialog=c,this.utilisService=f,this.listStates=[],this.listCategories=[],this.selectedCategoryId=null,this.listSubCategories=[],this.listBrand=[],this.selectedType="vente",this.popupVisible=!1,this.isLoading=!1,this.isFavorite=!1,this.selectedImages=[],this.previewImages=[],this.listBusiness=[],this.listShop=[],this.commissionDaymond=0,this.commissionVendeur=0,this.sizes=["XS","S","M","L","XL","XXL","28","30","32","34","36","39","40","41","42","43","44","12 pouces","14 pouces","15 pouces","17 pouces","19 pouces"],this.colors=[{name:"Noir",value:"#000000"},{name:"Bleu",value:"#0000FF"},{name:"Rouge",value:"#FF0000"},{name:"Orange",value:"#FFA500"},{name:"Rose",value:"#FFC0CB"},{name:"Violet",value:"#800080"},{name:"Vert",value:"#008000"},{name:"Jaune",value:"#FFFF00"},{name:"Blanc",value:"#FFFFFF"},{name:"Abricot",value:"#E67E30"},{name:"Acajou",value:"#88421D"},{name:"Aigue-marine",value:"#79F8F8"},{name:"Amande",value:"#82C46C"},{name:"Amarante",value:"#91283B"},{name:"Ambre",value:"#F0C300"},{name:"Am\xe9thyste",value:"#884DA7"},{name:"Anthracite",value:"#303030"},{name:"Argent",value:"#B1B1B1"},{name:"Asperge",value:"#8B9467"},{name:"Aubergine",value:"#5C005C"},{name:"Azur",value:"#007FFF"},{name:"Bambou",value:"#788B4B"},{name:"Bleu-ciel",value:"#87CEEB"},{name:"Bleu-gris",value:"#708090"},{name:"Bleu-marine",value:"#032B44"},{name:"Bleu-pastel",value:"#A1C9F2"},{name:"Bleu-turquoise",value:"#00BFFF"},{name:"Bourbon",value:"#8B4513"},{name:"Bronze",value:"#CD7F32"},{name:"Brun",value:"#786C3B"},{name:"Caf\xe9",value:"#964B00"},{name:"Cannelle",value:"#F5DEB3"},{name:"Cendre",value:"#666666"},{name:"Cerise",value:"#FF0033"},{name:"Champagne",value:"#F7E2CE"},{name:"Chocolat",value:"#964B00"},{name:"Ciel",value:"#87CEEB"},{name:"Cinabre",value:"#E41B23"},{name:"Citron",value:"#FFFF00"},{name:"Cobalt",value:"#0047AB"},{name:"Cognac",value:"#F5DEB3"},{name:"Corail",value:"#FFC67D"},{name:"Crema",value:"#F5F5F5"},{name:"Cyan",value:"#00FFFF"},{name:"Dor\xe9",value:"#FFD700"},{name:"Ecru",value:"#F5F5F5"},{name:"Emeraude",value:"#008000"},{name:"Etain",value:"#B1B1B1"},{name:"Feuille",value:"#008000"},{name:"Fuchsia",value:"#FF00FF"},{name:"Gamboge",value:"#F2C464"},{name:"Gris",value:"#808080"},{name:"Gris-bleu",value:"#87A2B5"},{name:"Gris-fonc\xe9",value:"#333333"},{name:"Gris-taupe",value:"#A8D7F5"},{name:"H\xe9liotrope",value:"#E6DAC3"},{name:"Indigo",value:"#4B0082"},{name:"Ivoire",value:"#FFFFF0"},{name:"Jade",value:"#00A86B"},{name:"Jaune-dor\xe9",value:"#F2C464"},{name:"Jaune-vert",value:"#C6F4D6"},{name:"Kaki",value:"#C3B091"},{name:"Lavande",value:"#C7B8EA"},{name:"Lierre",value:"#3E8E41"},{name:"Lilas",value:"#C9C3E6"},{name:"Limon",value:"#FFFF00"},{name:"Marron",value:"#786C3B"},{name:"Mauve",value:"#E0B0FF"},{name:"Miel",value:"#FFD700"},{name:"Moka",value:"#A52A2A"},{name:"Nacre",value:"#F5F5F5"},{name:"Nuit",value:"#000000"},{name:"Ocre",value:"#FF9900"},{name:"Olivier",value:"#3E8E41"},{name:"Orange-brun",value:"#FF9900"},{name:"Orange-fonc\xe9",value:"#FF4500"},{name:"Orange-pastel",value:"#FFC67D"},{name:"Paprika",value:"#FFC080"},{name:"P\xeache",value:"#FFD7BE"},{name:"Perle",value:"#F5F5F5"},{name:"Pistache",value:"#C6F4D6"},{name:"Plomb",value:"#666666"},{name:"Plum",value:"#660066"},{name:"Raisin",value:"#5C005C"},{name:"Rouge-brun",value:"#8B0000"},{name:"Rouge-tomate",value:"#FF3737"},{name:"Rubis",value:"#E0115F"},{name:"Saphir",value:"#0065BD"},{name:"Sauge",value:"#BCE3C5"},{name:"Saumon",value:"#FFA07A"},{name:"S\xe9pia",value:"#704214"},{name:"Sienna",value:"#A0522D"},{name:"Tournesol",value:"#FFD700"},{name:"Turquoise",value:"#00BFFF"},{name:"Violet-brun",value:"#7A00E6"},{name:"Violet-clair",value:"#C7B8EA"},{name:"Violet-fonc\xe9",value:"#6c5ce7"},{name:"Violet-p\xe2le",value:"#C39BD3"},{name:"Violet-rose",value:"#E6DAC3"}],this.selectedSizes=[],this.selectedColors=[],this.initializeForm()}initializeForm(){this.productForm=this.fb.group({name:["",d.k0.required],state_id:["",d.k0.required],sub_title:[""],description:["",d.k0.required],price:["",[d.k0.required,d.k0.min(0)]],price_city_delivery:["",[d.k0.required,d.k0.min(0)]],price_no_city_delivery:["",[d.k0.required,d.k0.min(0)]],price_partner:["",d.k0.min(0)],price_normal:["",d.k0.min(0)],commission:[""],brand_id:[""],category:["vente",d.k0.required],sub_category_id:["",d.k0.required],stock:["",d.k0.required],shop_id:["",d.k0.nullValidator],popular:[!1],publish:[!0],link:[""],category_id:["",d.k0.required],colors:this.fb.array([])})}onDaymondChange(e){this.commissionVendeur=e.target.value?60*e.target.value/100:0,console.log(e.target.value)}onShopChange(e){this.productForm.patchValue({shop_id:e.target.value})}viewImage(e){this.dialog.open($,{data:{image:e},width:"80%",maxWidth:"600px"})}removePreviewImage(e){this.previewImages.splice(e,1),this.selectedImages.splice(e,1)}onTypeChange(e){this.selectedType=e.target.value}toggleFavorite(){this.isFavorite=!this.isFavorite}initLoad(){Promise.all([this.loadShops(),this.loadCities(),this.loadStateProduct(),this.loadCategories(),this.loadBrand()]).catch(e=>{console.error("Erreur lors du chargement initial:",e),p().fire({icon:"error",title:"Erreur de chargement",text:"Impossible de charger certaines donn\xe9es. Veuillez r\xe9essayer."})})}onColorChange(e){const n=e.target.value;if(!n)return;const o=this.colors.find(r=>r.value===n);if(o&&!this.selectedColors.some(r=>r.value===o.value)){const r={name:o.name,value:o.value.startsWith("#")?o.value:`#${o.value}`};this.selectedColors=[...this.selectedColors,r],console.log("Couleurs s\xe9lectionn\xe9es:",this.selectedColors)}}removeColor(e){this.selectedColors=this.selectedColors.filter(n=>n.value!==e),this.productForm.patchValue({colors:this.selectedColors.map(n=>n.value)})}onSizeChange(e){const n=e.target.value;n&&!this.selectedSizes.includes(n)&&this.selectedSizes.push(n)}ngOnInit(){this.initLoad(),this.loadShops(),this.loadCities(),this.loadStateProduct(),this.loadCategories(),this.loadBrand()}onFileSelected(e){const n=e.target;if(!n.files?.length)return;const o=Array.from(n.files),r=["image/png","image/jpg","image/jpeg","image/gif","image/bmp","image/svg+xml","image/webp"];if(this.selectedImages.length+o.length>30)p().fire({icon:"warning",title:"Trop d'images",text:"Vous ne pouvez pas s\xe9lectionner plus de 30 images au total."});else if(this.selectedImages.length+o.length<1)p().fire({icon:"warning",title:"Pas assez d'images",text:"Vous ne pouvez pas s\xe9lectionner plus de 30 images au total."});else for(const s of o){if(!r.includes(s.type)){p().fire({icon:"error",title:"Format non support\xe9",text:`Le format ${s.type} n'est pas support\xe9.`});continue}if(this.selectedImages.find(c=>c.name===s.name))continue;this.selectedImages.push(s);const u=new FileReader;u.onload=c=>{this.previewImages.push(c.target?.result)},u.readAsDataURL(s)}}validateForm(){let e=!0;return Object.keys(this.productForm.controls).forEach(n=>{const o=this.productForm.get(n);o?.invalid&&(console.log(`Le champ '${n}' est invalide. Erreurs :`,o.errors),e=!1)}),e}onSubmit(){if(console.log("V\xe9rification du formulaire..."),this.isLoading=!0,this.productForm.invalid)return Object.keys(this.productForm.controls).forEach(o=>{const r=this.productForm.get(o);r?.invalid&&console.log(`Le champ '${o}' est invalide. Erreurs :`,r.errors)}),console.log("Formulaire invalide"),void(this.isLoading=!1);const e=new FormData,n=this.productForm.value;n.commission=this.commissionVendeur,Object.keys(n).forEach(o=>{null!=n[o]&&"colors"!==o&&e.append(o,n[o])}),this.selectedImages.forEach((o,r)=>{e.append(`images[${r}]`,o)}),this.selectedColors&&this.selectedColors.length>0?(this.selectedColors.forEach((o,r)=>{e.append(`colors[${r}][name]`,o.name),e.append(`colors[${r}][value]`,o.value.startsWith("#")?o.value:`#${o.value}`)}),console.log("Colors being sent:",this.selectedColors),e.forEach((o,r)=>{console.log(`${r}:`,o)}),this.produitsService.create(e).subscribe({next:o=>{this.isLoading=!1,p().fire({position:"center",icon:"success",title:"Produit ajout\xe9 avec succ\xe8s",showConfirmButton:!1,timer:2e3}),this.router.navigate(["/distribution/produits"])},error:o=>{this.isLoading=!1,console.log("R\xe9ponse compl\xe8te de l'API :",o);const r=o?.error?.message||"Une erreur s'est produite lors de l'ajout du produit.";p().fire({position:"center",icon:"error",title:"Erreur lors de l'ajout du produit",text:r,showConfirmButton:!0})}})):console.error("Aucune couleur s\xe9lectionn\xe9e")}loadShops(){this.shopService.getAll().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Liste des Boutiques",n.data),this.listShop=n.data})},error:e=>{console.error("Erreur lors de la r\xe9cup\xe9ration de la liste des entreprises",e)}})}loadCities(){this.globalService.getCities().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Ville :",n.data),n.data&&(this.listCities=(0,_.e)(n.data))})},error:e=>{console.error(e)}})}loadStateProduct(){this.globalService.getState().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Etat :",n.data),n.data&&(this.listStates=(0,_.e)(n.data))})},error:e=>{console.error(e)}})}loadCategories(){this.globalService.getCat().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Cat\xe9gorie :",n.data),n.data&&(this.listCategories=(0,_.e)(n.data))})},error:e=>{console.error(e)}})}onCategoryChange(e){const n=+e.target.value,o=this.listCategories.find(r=>r.id===n);o&&(this.listSubCategories=o.sub_categories||[],this.productForm.patchValue({sub_category_id:"",category_id:n}))}loadBrand(){this.globalService.getBrand().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Brands :",n.data),e.data&&(this.listBrand=(0,_.e)(n.data))})},error:e=>{console.error(e)}})}onSelectChange(e){this.selectedBoutique=e.target.value}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(d.ok),t.rXU(m.nX),t.rXU(m.Ix),t.rXU(B.d),t.rXU(G.s),t.rXU(M.q),t.rXU(j.bZ),t.rXU(y.M))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-add"]],viewQuery:function(n,o){if(1&n&&t.GBs(ut,5),2&n){let r;t.mGM(r=t.lsd())&&(o.boutiquePopup=r.first)}},standalone:!0,features:[t.aNF],decls:122,vars:57,consts:[[1,"container-fluid","mt-5","p-3"],[3,"formGroup"],[1,"row","d-flex","p-3","box-1"],[1,"col-md-7","d-flex","justify-content-between","mb-3","mb-md-0"],[1,"col-md-12","d-flex","justify-content-start","align-items-center","gap-3","flex-wrap"],[1,"d-flex","align-items-center",2,"min-width","190px"],[1,"mb-0"],[1,"d-flex","align-items-center",2,"background-color","white"],["formControlName","shop_id",1,"form-select"],["value","","disabled","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center",2,"padding","12px","border","1px solid #ff9500","border-radius","7px","max-width","100px"],["formControlName","popular",2,"border","none","font-size","0.8rem","color","#ff9500"],["value","false"],["value","true"],[1,"d-flex","align-items-center",2,"background-color","white","padding-left","20px","padding-right","10px","border","1px solid #ff9500","border-radius","7px","min-width","50px","padding-top","10px","padding-bottom","10px",3,"click"],["alt","Star","width","20","height","20",2,"margin-right","10px",3,"src"],[1,"col-md-3","ms-auto","d-flex","justify-content-end","align-items-center","gap-3"],["onclick","alert('Sauvegarde effectu\xe9e')",2,"width","70%","border","none","background-color","white","color","gray"],[1,"btn","btn-primary","btn-border","btn-round","btn-add",2,"width","70%","color","#ff9500",3,"click","disabled"],[4,"ngIf"],[1,"pt-2","px-3"],[1,"row","mt-3"],["id","changsep",1,"col-md-8","col-sm-6","mb-4"],["id","changsep1",2,"width","100%","gap","10px","display","flex","padding-top","10px"],["id","titre2"],["formControlName","name","type","text","placeholder","Nom de l'article","required","",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","sub_title","type","text","placeholder","Sous titre",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],[2,"width","100%","background-color","white","gap","10px","display","flex","padding-top","10px"],["id","titre2",2,"width","100%","height","auto"],["formControlName","description","type","text","placeholder","Description","required","",1,"titre1",2,"height","300px","width","100%","border","1px solid #ccc","border-radius","5px","padding-left","10px","resize","none",3,"ngClass"],["id","changsep1",2,"width","100%","background-color","white","gap","10px","display","flex","padding-top","10px"],["formControlName","category_id","placeholder","Cat\xe9gorie",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"change","ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","sub_category_id","placeholder","Sous cat\xe9gorie",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],["formControlName","state_id","required","",2,"height","100%","width","100%","border","1px solid blue","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],["formControlName","brand_id",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px"],["formControlName","stock","type","number","placeholder","Quantit\xe9","required","",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],[2,"display","flex","gap","10px"],["id","titre2",2,"height","auto"],[2,"height","auto !important","width","100%","border","1px solid #ccc","border-radius","5px","padding-left","10px","padding-top","40px","display","flex","align-items","center","padding-right","10px","flex-wrap","wrap","gap","10px"],[2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","5px","margin-bottom","15px",3,"change","ngClass"],["id","titre",2,"display","flex","justify-content","space-between","width","100%","padding-right","20px"],[2,"height","auto !important","width","100%","border","1px solid #ccc","border-radius","5px","padding-left","10px","display","flex","align-items","center","padding-right","10px","flex-wrap","wrap","gap","10px","padding-top","40px",3,"ngClass"],["required","",2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","5px",3,"change"],[2,"display","flex","padding-bottom","10px !important","flex-wrap","wrap","gap","10px"],["style","padding: 1px 10px; color: white; border-radius: 20px; text-align: center; width: fit-content;",3,"ngStyle",4,"ngFor","ngForOf"],["id","titre2",2,"height","auto","width","100%"],[1,"titre1",2,"height","150px","width","100%","border","1px solid #ccc","border-radius","5px","padding-left","10px","display","flex","align-items","center","padding-right","10px","flex-wrap","wrap","gap","10px","padding-bottom","10px"],[1,"titre212"],[1,"titre212",2,"gap","10px"],["type","number","formControlName","price_city_delivery","required","",2,"width","50%","border","1px solid #ccc","padding","7px","background-color","white",3,"ngClass","placeholder"],["type","number","formControlName","price_no_city_delivery","required","",2,"width","50%","border","1px solid #ccc","padding","7px","background-color","white",3,"ngClass","placeholder"],[2,"width","100%","background-color","white","padding-top","10px","padding-top","5px","border","1px solid #f0f0f0","margin-top","20px","padding","5px","border-radius","5px","padding-bottom","15px"],["id","titre2",2,"width","auto"],["formControlName","price","type","number","placeholder","Prix de vente","required","",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px"],["id","changsep1",2,"display","flex","width","100%","gap","10px"],["type","number","formControlName","price_partner","placeholder","Commission daymond","required","",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"input"],[2,"display","flex","justify-content","space-between","padding-left","10px","padding-right","10px","align-items","center","margin-top","10px","border","1px solid #FFC2C2","text-align","center","background-color","#FFF6F6","color","#FF5F84","border-radius","5px","width","25%"],[2,"font-weight","bold"],[1,"input-group","mb-3",2,"box-shadow","none","padding-top","20px"],["type","text","formControlName","link","placeholder","Lien de la video du produit","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",2,"border","1px solid #ccc","border-radius","5px","box-shadow","none","padding-top","10px",3,"ngClass"],[1,"input-group-append"],["type","button",2,"padding-left","20px","padding-right","20px","border","1px solid #ccc","margin-top","20px","padding-top","7px","padding-bottom","7px","margin-right","2px","background-color","rgb(0, 106, 255)","color","white","border-radius","3px","border","none"],[1,"col-md-4","col-sm-6","mb-4",2,"min-width","300px","background-color","rgba(244, 244, 244, 0.743)","padding","10px","border-radius","10px","padding-bottom","10px"],["type","file","id","download_image","multiple","",2,"display","none",3,"change"],["for","download_image",1,"images1",2,"width","100%","height","250px","border-radius","10px","background-color","white","display","flex","align-items","center","justify-content","center","flex-direction","column","cursor","pointer",3,"ngClass"],["src","assets/img/downimage.png","alt","","width","50","height","50",2,"margin-right","10px"],[2,"text-align","center"],[1,"images1",2,"width","100%","border-radius","10px","display","flex","align-items","center","justify-content","center","margin-top","10px","gap","10px","flex-wrap","wrap"],["class","images1","style","\n                position: relative;\n                width: 150px;\n                height: 150px;\n                border-radius: 10px;\n                background-color: white;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                flex-direction: column;\n              ",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"fa","fa-spinner","fa-spin"],[1,"invalid-feedback"],[3,"value"],[2,"padding","1px 10px","color","white","border-radius","20px","text-align","center","width","fit-content",3,"ngStyle"],[1,"images1",2,"position","relative","width","150px","height","150px","border-radius","10px","background-color","white","display","flex","align-items","center","justify-content","center","flex-direction","column"],["alt","Product Image","width","100%","height","100%",2,"border-radius","5px",3,"click","src"],[2,"position","absolute","bottom","5px","left","5px","cursor","pointer",3,"click"],[1,"fas","fa-eye",2,"color","blue"],[2,"position","absolute","bottom","5px","right","5px","cursor","pointer",3,"click"],[1,"fas","fa-trash",2,"color","red"]],template:function(n,o){if(1&n&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.nrm(6,"app-back-button"),t.j41(7,"p",6),t.EFF(8,"Ajouter un produit"),t.k0s()(),t.j41(9,"div",7)(10,"select",8)(11,"option",9),t.EFF(12,"S\xe9lectionner une boutique"),t.k0s(),t.DNE(13,mt,2,3,"option",10),t.k0s()(),t.j41(14,"div",11)(15,"select",12)(16,"option",9),t.EFF(17,"Choisir"),t.k0s(),t.j41(18,"option",13),t.EFF(19,"Plus r\xe9cent"),t.k0s(),t.j41(20,"option",14),t.EFF(21,"Plus vendu"),t.k0s()()(),t.j41(22,"div",15),t.bIt("click",function(){return o.toggleFavorite()}),t.nrm(23,"img",16),t.k0s()()(),t.j41(24,"div",17)(25,"button",18),t.EFF(26," Sauvegarder "),t.k0s(),t.j41(27,"button",19),t.bIt("click",function(){return o.onSubmit()}),t.DNE(28,ht,2,0,"span",20)(29,ft,3,0,"span",20),t.k0s()()(),t.j41(30,"div",21)(31,"div",22)(32,"div",23)(33,"div",24)(34,"div",25),t.nrm(35,"input",26),t.DNE(36,bt,2,0,"div",27),t.k0s(),t.j41(37,"div",25),t.nrm(38,"input",28),t.k0s()(),t.j41(39,"div",29)(40,"div",30),t.nrm(41,"textarea",31),t.k0s()(),t.j41(42,"div",32)(43,"div",25)(44,"select",33),t.bIt("change",function(s){return o.onCategoryChange(s)}),t.j41(45,"option",34),t.EFF(46,"Cat\xe9gorie"),t.k0s(),t.DNE(47,_t,2,2,"option",35),t.k0s()(),t.j41(48,"div",25)(49,"select",36)(50,"option",34),t.EFF(51,"Sous-Cat\xe9gorie"),t.k0s(),t.DNE(52,xt,2,2,"option",35),t.k0s()()(),t.j41(53,"div",32)(54,"div",25)(55,"select",37)(56,"option",9),t.EFF(57,"\xc9tat du produit"),t.k0s(),t.DNE(58,vt,2,2,"option",35),t.k0s()(),t.j41(59,"div",25)(60,"select",38)(61,"option",9),t.EFF(62,"Marque"),t.k0s(),t.DNE(63,Ct,2,2,"option",35),t.k0s()(),t.j41(64,"div",25),t.nrm(65,"input",39),t.k0s()(),t.j41(66,"div",40)(67,"div",41)(68,"div",42)(69,"select",43),t.bIt("change",function(s){return o.onSizeChange(s)}),t.j41(70,"option",9),t.EFF(71," S\xe9lectionnez vos tailles "),t.k0s(),t.DNE(72,Ft,2,2,"option",35),t.k0s()(),t.j41(73,"label",44)(74,"span"),t.EFF(75,"Taille du produit"),t.k0s()()(),t.j41(76,"div",41)(77,"div",45)(78,"select",46),t.bIt("change",function(s){return o.onColorChange(s)}),t.j41(79,"option",9),t.EFF(80,"S\xe9lectionnez vos couleurs"),t.k0s(),t.DNE(81,Pt,2,2,"option",35),t.k0s(),t.j41(82,"div",47),t.DNE(83,kt,2,4,"div",48),t.k0s()(),t.j41(84,"label",44)(85,"span"),t.EFF(86,"Couleur du produit"),t.k0s()()()(),t.j41(87,"div",49)(88,"div",50)(89,"div",51)(90,"p"),t.EFF(91,"Prix livraison"),t.k0s()(),t.j41(92,"div",52),t.nrm(93,"input",53)(94,"input",54),t.k0s()()(),t.j41(95,"div",55)(96,"div",56),t.nrm(97,"input",57),t.k0s(),t.j41(98,"div",58)(99,"div",25)(100,"input",59),t.bIt("input",function(s){return o.onDaymondChange(s)}),t.k0s()(),t.j41(101,"div",60),t.EFF(102," Le vendeur re\xe7oit "),t.j41(103,"span",61),t.EFF(104),t.k0s(),t.EFF(105," FCFA "),t.k0s()()(),t.nrm(106,"div",32),t.j41(107,"div",62),t.nrm(108,"input",63),t.j41(109,"div",64)(110,"button",65),t.EFF(111," Coller "),t.k0s()()()(),t.j41(112,"div",66)(113,"input",67),t.bIt("change",function(s){return o.onFileSelected(s)}),t.k0s(),t.j41(114,"label",68),t.nrm(115,"img",69),t.j41(116,"p",70),t.EFF(117," S\xe9lectionner des images "),t.nrm(118,"br"),t.EFF(119," (2 minimum) "),t.k0s()(),t.j41(120,"div",71),t.DNE(121,wt,6,1,"div",72),t.k0s()()()()()()),2&n){let r,s,u,c,f,x,v,C,F,P,k,w,O,E;t.R7$(),t.Y8G("formGroup",o.productForm),t.R7$(12),t.Y8G("ngForOf",o.listShop),t.R7$(10),t.Y8G("src",o.isFavorite?"assets/img/etoile.png":"assets/img/etoile-grise.jpg",t.B4B),t.R7$(4),t.Y8G("disabled",o.isLoading),t.R7$(),t.Y8G("ngIf",!o.isLoading),t.R7$(),t.Y8G("ngIf",o.isLoading),t.R7$(6),t.Y8G("ngClass",t.eq3(31,h,(null==(r=o.productForm.get("name"))?null:r.touched)&&(null==(r=o.productForm.get("name"))?null:r.invalid))),t.R7$(),t.Y8G("ngIf",(null==(s=o.productForm.get("name"))?null:s.touched)&&(null==(s=o.productForm.get("name"))?null:s.invalid)),t.R7$(2),t.Y8G("ngClass",t.eq3(33,h,(null==(u=o.productForm.get("name"))?null:u.touched)&&(null==(u=o.productForm.get("name"))?null:u.invalid))),t.R7$(3),t.Y8G("ngClass",t.eq3(35,h,(null==(c=o.productForm.get("name"))?null:c.touched)&&(null==(c=o.productForm.get("name"))?null:c.invalid))),t.R7$(3),t.Y8G("ngClass",t.eq3(37,h,(null==(f=o.productForm.get("name"))?null:f.touched)&&(null==(f=o.productForm.get("name"))?null:f.invalid))),t.R7$(3),t.Y8G("ngForOf",o.listCategories),t.R7$(2),t.Y8G("ngClass",t.eq3(39,h,(null==(x=o.productForm.get("name"))?null:x.touched)&&(null==(x=o.productForm.get("name"))?null:x.invalid))),t.R7$(3),t.Y8G("ngForOf",o.listSubCategories),t.R7$(3),t.Y8G("ngClass",t.eq3(41,h,(null==(v=o.productForm.get("name"))?null:v.touched)&&(null==(v=o.productForm.get("name"))?null:v.invalid))),t.R7$(3),t.Y8G("ngForOf",o.listStates),t.R7$(5),t.Y8G("ngForOf",o.listBrand),t.R7$(2),t.Y8G("ngClass",t.eq3(43,h,(null==(C=o.productForm.get("name"))?null:C.touched)&&(null==(C=o.productForm.get("name"))?null:C.invalid))),t.R7$(4),t.Y8G("ngClass",t.eq3(45,h,(null==(F=o.productForm.get("name"))?null:F.touched)&&(null==(F=o.productForm.get("name"))?null:F.invalid))),t.R7$(3),t.Y8G("ngForOf",o.sizes),t.R7$(5),t.Y8G("ngClass",t.eq3(47,h,(null==(P=o.productForm.get("name"))?null:P.touched)&&(null==(P=o.productForm.get("name"))?null:P.invalid))),t.R7$(4),t.Y8G("ngForOf",o.colors),t.R7$(2),t.Y8G("ngForOf",o.selectedColors),t.R7$(10),t.Y8G("ngClass",t.eq3(49,h,(null==(k=o.productForm.get("name"))?null:k.touched)&&(null==(k=o.productForm.get("name"))?null:k.invalid)))("placeholder","Dans la ville"),t.R7$(),t.Y8G("ngClass",t.eq3(51,h,(null==(w=o.productForm.get("name"))?null:w.touched)&&(null==(w=o.productForm.get("name"))?null:w.invalid)))("placeholder","Hors de ville"),t.R7$(10),t.JRh(o.commissionVendeur),t.R7$(4),t.Y8G("ngClass",t.eq3(53,h,(null==(O=o.productForm.get("name"))?null:O.touched)&&(null==(O=o.productForm.get("name"))?null:O.invalid))),t.R7$(6),t.Y8G("ngClass",t.eq3(55,h,(null==(E=o.productForm.get("name"))?null:E.touched)&&(null==(E=o.productForm.get("name"))?null:E.invalid))),t.R7$(7),t.Y8G("ngForOf",o.previewImages)}},dependencies:[l.MD,l.YU,l.Sq,l.bT,l.B3,m.iI,d.YN,d.qT,d.xH,d.y7,d.me,d.Q0,d.wz,d.BC,d.cb,d.YS,d.X1,d.j4,d.JD,S.X],styles:[".image-container[_ngcontent-%COMP%]:hover   .icons-overlay[_ngcontent-%COMP%]{opacity:1!important;background-color:#3b3d3ab8;padding:10px;border-radius:10px}.boutique-cadre[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;cursor:pointer;display:flex;align-items:center}.boutique-logo[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:10px}.popup-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px;border:1px solid #ccc;z-index:1000}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;padding:5px 0}li[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.titre212[_ngcontent-%COMP%]{height:50px;width:100%;display:flex;justify-content:space-between;align-items:center;padding-top:20px}#titre2[_ngcontent-%COMP%]{width:500px;height:40px;position:relative;margin-top:10px}#titre2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:10px;position:absolute;left:10px;pointer-events:none}@media (max-width: 1000px){#changsep[_ngcontent-%COMP%]{width:100%;height:auto}#changsep1[_ngcontent-%COMP%]{flex-wrap:wrap}#titre2[_ngcontent-%COMP%]{width:100%;height:40px;position:relative;margin-top:10px}#titre2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:10px;position:absolute;left:10px;pointer-events:none}}@media (min-width: 1000px){#changsep1[_ngcontent-%COMP%]{flex-wrap:nowrap}#changsep[_ngcontent-%COMP%]{min-width:700px;height:auto}#titre2[_ngcontent-%COMP%]{width:500px;height:40px;position:relative;margin-top:10px}#titre2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:10px;position:absolute;left:10px;pointer-events:none}}.card-1[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #3688fa;border-radius:10px}.card-1[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#3688fa;text-transform:uppercase}.card-2[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #f87957;border-radius:10px}.card-2[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#f87957}.card-2[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#f87957;text-transform:uppercase}.card-3[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #36c600;border-radius:10px}.card-3[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#36c600}.card-3[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#36c600;text-transform:uppercase}.card-4[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #ff9500;border-radius:10px}.card-4[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#ff9500}.card-4[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#ff9500;text-transform:uppercase}.container-fluid[_ngcontent-%COMP%]{width:auto!important;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]{justify-content:flex-end!important;border-bottom:#00000029 1px solid;width:inherit}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:1px solid #c4c4c4!important;color:#707070!important}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background-color:#ff9500!important;border:1px solid #ff9500!important;color:#fff!important}.container-fluid[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn-tri[_ngcontent-%COMP%]{border:1px solid #c4c4c4!important;color:#707070!important}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{background-color:#3688fa!important;border:1px solid #3ca2ff!important;color:#fff!important;font-weight:700}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover, .container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:focus{background-color:#ff9500!important;border:1px solid #ff9500!important;color:#fff!important;font-weight:400}.product-card[_ngcontent-%COMP%]{width:100%;background-color:#fff;position:relative;border-color:#f8f8fb}.product-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.product-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:200px;object-fit:cover;box-shadow:0 4px 8px #0003}.product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.product-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:0}.product-card[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%]{font-weight:700;color:#3688fa}.product-card[_ngcontent-%COMP%]   .stock-number[_ngcontent-%COMP%]{color:#3688fa!important}@media (max-width: 768px){.product-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:300px;object-fit:cover;box-shadow:0 4px 8px #0003}}.search-bar[_ngcontent-%COMP%]{position:relative;width:500px}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 20px;border:1px solid #ccc;border-radius:20px!important;transition:border-color .3s ease}.input-group[_ngcontent-%COMP%]{margin-right:15px}.input-group-append[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:0;top:50%;transform:translateY(-50%)}.input-group-text[_ngcontent-%COMP%]{background:transparent;border:none;padding-right:10px}.input-group-bar[_ngcontent-%COMP%]{width:1px;height:20px;background-color:#999;margin-right:6px}.search-icon[_ngcontent-%COMP%]{color:#999}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:red;outline:none}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(:placeholder-shown){border-color:red}"]})}}return i})();const Mt=["boutiquePopup"],b=i=>({"is-invalid":i}),yt=i=>({"background-color":i});function jt(i,a){1&i&&(t.j41(0,"span"),t.EFF(1,"PUBLIER"),t.k0s())}function Et(i,a){1&i&&(t.j41(0,"span"),t.nrm(1,"i",67),t.EFF(2," En cours... "),t.k0s())}function St(i,a){1&i&&(t.j41(0,"div",68),t.EFF(1," Ce champ est requis "),t.k0s())}function It(i,a){if(1&i&&(t.j41(0,"option",69),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",null==e?null:e.name," ")}}function Rt(i,a){if(1&i&&(t.j41(0,"option",69),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",null==e?null:e.name," ")}}function $t(i,a){if(1&i&&(t.j41(0,"option",69),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Bt(i,a){if(1&i&&(t.j41(0,"option",69),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Gt(i,a){if(1&i&&(t.j41(0,"option",69),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function Nt(i,a){if(1&i&&(t.j41(0,"option",69),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("value",e.value),t.R7$(),t.JRh(e.name)}}function Tt(i,a){if(1&i&&(t.j41(0,"div",70),t.EFF(1),t.k0s()),2&i){const e=a.$implicit;t.Y8G("ngStyle",t.eq3(2,yt,e.value)),t.R7$(),t.SpI(" ",e.name," ")}}function Yt(i,a){if(1&i){const e=t.RV6();t.j41(0,"div",71),t.nrm(1,"img",72),t.j41(2,"div",73)(3,"span",74),t.bIt("click",function(){const o=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.viewImage(o))}),t.nrm(4,"i",75),t.k0s(),t.j41(5,"span",74),t.bIt("click",function(){const o=t.eBV(e).index,r=t.XpG();return t.Njj(r.removeImage(o))}),t.nrm(6,"i",76),t.k0s()()()}if(2&i){const e=a.$implicit;t.R7$(),t.Y8G("src",e,t.B4B)}}let Dt=(()=>{class i{constructor(e,n,o,r,s,u,c,f){this.fb=e,this.route=n,this.produitsService=o,this.router=r,this.dialog=s,this.globalService=u,this.shopService=c,this.utilisService=f,this.selectedImage=null,this.sizes=["XS","S","M","L","XL","XXL","28","30","32","34","36","39","40","41","42","43","44","12 pouces","14 pouces","15 pouces","17 pouces","19 pouces"],this.commissionVendeur=0,this.colors=[{name:"Rouge",value:"#FF0000"},{name:"Bleu",value:"#0000FF"},{name:"Vert",value:"#008000"},{name:"Jaune",value:"#FFFF00"},{name:"Noir",value:"#000000"},{name:"Blanc",value:"#FFFFFF"},{name:"Gris",value:"#808080"},{name:"Orange",value:"#FFA500"},{name:"Violet",value:"#800080"},{name:"Rose",value:"#FFC0CB"}],this.listStates=[],this.listCategories=[],this.selectedCategoryId=null,this.listSubCategories=[],this.listBrand=[],this.selectedType="vente",this.popupVisible=!1,this.isLoading=!1,this.isFavorite=!1,this.selectedImages=[],this.previewImages=[],this.listBusiness=[],this.listShop=[],this.selectedSizes=[],this.selectedColors=[],this.productForm=this.fb.group({name:[""],state_id:[""],sub_title:[""],description:[""],price:["",d.k0.min(0)],price_partner:["",d.k0.min(0)],price_city_delivery:["",d.k0.min(0)],price_no_city_delivery:["",d.k0.min(0)],price_seller:[""],price_normal:[""],commission:[""],brand_id:[""],link:[""],sizes:[""],category:["vente"],sub_category_id:[""],stock:[""],shop_id:[""],popular:[!1],publish:[!0],category_id:[""],colors:this.fb.array([])})}updatePriceValidators(){}onDaymondChange(e){this.commissionVendeur=e.target.value?60*e.target.value/100:0,console.log(e.target.value)}ngOnInit(){this.initLoad(),this.productId=this.route.snapshot?.paramMap.get("id")||"",this.loadShops(),this.loadCategories(),this.loadStateProduct(),this.loadCities(),this.loadBrand(),this.productId?this.getProductById(this.productId):(console.error("ID du produit manquant"),this.isLoading=!1)}initLoad(){Promise.all([this.loadShops(),this.loadCities(),this.loadStateProduct(),this.loadCategories(),this.loadBrand()]).catch(e=>{console.error("Erreur lors du chargement initial:",e),p().fire({icon:"error",title:"Erreur de chargement",text:"Impossible de charger certaines donn\xe9es. Veuillez r\xe9essayer."})})}onShopChange(e){this.productForm.patchValue({shop_id:e.target.value})}viewImage(e){this.dialog.open($,{data:{image:e},width:"80%",maxWidth:"600px"})}removeImage(e){this.previewImages.splice(e,1),this.selectedImages.splice(e,1)}onTypeChange(e){this.selectedType=e.target.value}toggleFavorite(){this.isFavorite=!this.isFavorite}onColorChange(e){const n=e.target.value;if(!n)return;const o=this.colors.find(r=>r.value===n);if(o&&!this.selectedColors.some(r=>r.value===o.value)){const r={name:o.name,value:o.value.startsWith("#")?o.value:`#${o.value}`};this.selectedColors=[...this.selectedColors,r],console.log("Couleurs s\xe9lectionn\xe9es:",this.selectedColors)}}removeColor(e){this.selectedColors=this.selectedColors.filter(n=>n.value!==e),this.productForm.patchValue({colors:this.selectedColors.map(n=>n.value)})}onSizeChange(e){const n=e.target.value;n&&!this.selectedSizes.includes(n)&&this.selectedSizes.push(n)}onFileSelected(e){const n=e.target;if(!n.files?.length)return;const o=Array.from(n.files),r=["image/png","image/jpg","image/jpeg","image/gif","image/bmp","image/svg+xml","image/webp"];if(this.selectedImages.length+o.length>8)p().fire({icon:"warning",title:"Trop d'images",text:"Vous ne pouvez pas s\xe9lectionner plus de 8 images au total."});else for(const s of o){if(!r.includes(s.type)){p().fire({icon:"error",title:"Format non support\xe9",text:`Le format ${s.type} n'est pas support\xe9.`});continue}if(this.selectedImages.find(c=>c.name===s.name))continue;this.selectedImages.push(s);const u=new FileReader;u.onload=c=>{this.previewImages.push(c.target?.result)},u.readAsDataURL(s)}}validateForm(){let e=!0;return Object.keys(this.productForm?.controls).forEach(n=>{const o=this.productForm.get(n);o?.invalid&&(console.log(`Le champ '${n}' est invalide. Erreurs :`,o?.errors),e=!1)}),e}loadShops(){this.shopService.getAll().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Liste des Boutiques",n.data),this.listShop=n.data})},error:e=>{console.error("Erreur lors de la r\xe9cup\xe9ration de la liste des entreprises",e)}})}loadCities(){this.globalService.getCities().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Ville :",n.data),n.data&&(this.listCities=(0,_.e)(n.data))})},error:e=>{console.error(e)}})}loadStateProduct(){this.globalService.getState().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Etat :",n.data),n.data&&(this.listStates=(0,_.e)(n.data))})},error:e=>{console.error(e)}})}loadCategories(){this.globalService.getCat().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Cat\xe9gorie :",n.data),n.data&&(this.listCategories=(0,_.e)(n.data))})},error:e=>{console.error(e)}})}onCategoryChange(e){const n=+e.target.value,o=this.listCategories.find(r=>r.id===n);o&&(this.listSubCategories=o.sub_categories||[],this.productForm.patchValue({sub_category_id:"",category_id:n}))}loadBrand(){this.globalService.getBrand().subscribe({next:e=>{this.utilisService.response(e,n=>{console.log("Brands :",n.data),e.data&&(this.listBrand=(0,_.e)(n.data))})},error:e=>{console.error(e)}})}onSelectChange(e){this.selectedBoutique=e.target.value}getProductById(e){this.produitsService.getById(`${e}`).subscribe({next:n=>{this.utilisService.response(n,o=>{console.log("Produit r\xe9cup\xe9r\xe9 avec succ\xe8s",o),this.product=o.data,console.log("Produit :",this.product),console.log("Produit AAAAA:",o.data),this.isLoading=!1,this.selectedColors=this.product.colors,this.productForm.patchValue({name:this.product?.name,state_id:this.product.state.id,sub_title:this.product.sub_title,description:this.product.description,price:this.product.price.price,price_partner:this.product.price?.partner??null,price_supplier:this.product.price.supplier,price_city_delivery:this.product.price_delivery.city,price_no_city_delivery:this.product.price_delivery.no_city,price_seller:this.product.price.seller,price_max:this.product.price.max,price_min:this.product.price.min,price_normal:this.product.price.normal,commission:this.product.price.commission,product_id:this.product.code,brand_id:this.product.brand,category:this.product?.category?.name,sub_category_id:this.product.sub_category?.name,category_id:this.product.category?.id,stock:this.product.stock,shop_id:this.product.shop.id||"2",publish:this.product.publish,colors:this.product.colors,sizes:this.product?.sizes,popular:this.product.popular,star:this.product.star,link:this.product.link,images:this.product.images}),this.commissionVendeur=this.product.price.commission,console.log("Form values",this.productForm.value)})},error:n=>{console.error("Erreur lors de la r\xe9cup\xe9ration du produit",n),this.isLoading=!1}}),this.isLoading=!1}publishProduct(){this.isLoading=!0,this.productForm.get("sub_category_id")?.value&&this.productForm.patchValue({sub_category_id:Number(this.productForm.get("sub_category_id")?.value)});let e=this.productForm.value;e.colors=this.selectedColors,e.publish=1,e.sizes=this.sizes,e.brand_id=1,e.commission=this.commissionVendeur;const n={shop_id:this.productForm.get("shop_id")?.value,sub_category_id:this.productForm.get("sub_category_id")?.value,category:"vente"};e.sub_category_id=this.productForm.get("sub_category_id")?.value,e.category="vente",console.log("Payload avant publication:",n),console.log("Cat\xe9gories disponibles:",this.listCategories),console.log("Sous-cat\xe9gories disponibles:",this.listSubCategories),this.produitsService.publish(this.productForm.value,this.productId).subscribe({next:o=>{console.log("Produit publi\xe9 avec succ\xe8s",o),this.isLoading=!1,p().fire({icon:"success",title:"Produit publi\xe9 avec succ\xe8s",showConfirmButton:!0}).then(()=>{this.router.navigate(["/distribution/produits"])})},error:o=>{console.error("Erreur lors de la publication du produit",o),this.isLoading=!1,p().fire({icon:"error",title:"Erreur",text:o?.message||"Impossible de publier le produit."})}})}onSubmit(){if(this.isLoading=!0,this.productForm.invalid)return alert("Veuillez remplir tous les champs requis."),void(this.isLoading=!1);const e=new FormData;Object.keys(this.productForm?.controls).forEach(n=>{const o=this.productForm.get(n)?.value;o&&e.append(n,o)}),e.append("shop_id",this.productForm.get("shop_id")?.value),e.append("sub_category_id",this.productForm.get("sub_category_id")?.value),e.append("category",this.productForm.get("category")?.value),e.append("category",this.productForm.get("category")?.value),e.append("stock",this.productForm.get("stock")?.value),e.append("name",this.productForm.get("name")?.value),e.append("description",this.productForm.get("description")?.value),e.append("price_supplier",this.productForm.get("price_supplier")?.value),e.append("price",this.productForm.get("price")?.value),e.append("price_city",this.productForm.get("price_city")?.value),e.append("price_no_city",this.productForm.get("price_no_city")?.value),e.append("images",JSON.stringify(this.selectedImages)),this.produitsService.create(e).subscribe({next:n=>{this.utilisService.response(n,o=>{}),console.log("Produit ajout\xe9 avec succ\xe8s",n),this.isLoading=!1,p().fire({position:"center",icon:"success",title:"Produit ajout\xe9 avec succ\xe8s",showConfirmButton:!1,timer:2e3}),this.router.navigate(["/products"])},error:n=>{console.error("Erreur lors de l'ajout du produit",n),this.isLoading=!1;const o=n?.error?.message||"Une erreur s'est produite lors de l'ajout du produit.";p().fire({position:"center",icon:"error",title:"Erreur lors de l'ajout du produit",text:o,showConfirmButton:!0})}})}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(d.ok),t.rXU(m.nX),t.rXU(M.q),t.rXU(m.Ix),t.rXU(j.bZ),t.rXU(B.d),t.rXU(G.s),t.rXU(y.M))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-publish"]],viewQuery:function(n,o){if(1&n&&t.GBs(Mt,5),2&n){let r;t.mGM(r=t.lsd())&&(o.boutiquePopup=r.first)}},standalone:!0,features:[t.aNF],decls:112,vars:53,consts:[[1,"container-fluid","mt-5","p-3"],[3,"formGroup"],[1,"row","d-flex","p-3","box-1"],[1,"col-md-7","d-flex","justify-content-between","mb-3","mb-md-0"],[1,"col-md-12","d-flex","justify-content-start","align-items-center","gap-3","flex-wrap"],[1,"d-flex","align-items-center",2,"min-width","190px"],[1,"mb-0"],[1,"d-flex","align-items-center",2,"background-color","white","padding-left","10px","padding-right","15px","border","1px solid #ccc","border-radius","7px","min-width","190px"],["alt","","width","30","height","30",2,"margin-right","10px",3,"src"],[1,"mb-0",2,"font-size","0.8rem","color","black"],[2,"font-size","0.8rem","color","gray"],[1,"col-md-3","ms-auto","d-flex","justify-content-end","align-items-center","gap-3"],[1,"btn","btn-primary","btn-border","btn-round","btn-add",2,"width","70%","color","#ff9500",3,"click"],[4,"ngIf"],[1,"pt-2","px-3"],[1,"row","mt-3"],["id","changsep",1,"col-md-8","col-sm-6","mb-4"],["id","changsep1",2,"width","100%","gap","10px","display","flex","padding-top","10px"],["id","titre2"],["formControlName","name","type","text","placeholder","Nom de l'article","required","",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","sub_title","type","text","placeholder","Sous titre",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],[2,"width","100%","background-color","white","gap","10px","display","flex","padding-top","10px"],["id","titre2",2,"width","100%","height","auto"],["formControlName","description","type","text","placeholder","Description","required","",1,"titre1",2,"height","300px","width","100%","border","1px solid #ccc","border-radius","5px","padding-left","10px","resize","none",3,"ngClass"],["id","changsep1",2,"width","100%","background-color","white","gap","10px","display","flex","padding-top","10px"],["formControlName","category_id","placeholder","Cat\xe9gorie",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"change","ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","sub_category_id","placeholder","Sous cat\xe9gorie",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],["formControlName","state_id","required","",2,"height","100%","width","100%","border","1px solid blue","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],["value","","disabled","","selected",""],["formControlName","brand_id",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px"],["formControlName","stock","type","number","placeholder","Quantit\xe9","required","",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"ngClass"],[2,"display","flex","gap","10px"],["id","titre2",2,"height","auto"],[2,"height","auto !important","width","100%","border","1px solid #ccc","border-radius","5px","padding-left","10px","padding-top","40px","display","flex","align-items","center","padding-right","10px","flex-wrap","wrap","gap","10px"],[2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","5px","margin-bottom","15px",3,"change","ngClass"],["id","titre",2,"display","flex","justify-content","space-between","width","100%","padding-right","20px"],[2,"height","auto !important","width","100%","border","1px solid #ccc","border-radius","5px","padding-left","10px","display","flex","align-items","center","padding-right","10px","flex-wrap","wrap","gap","10px","padding-top","40px",3,"ngClass"],["required","",2,"width","100%","padding","10px","border","1px solid #ccc","border-radius","5px",3,"change"],[2,"display","flex","padding-bottom","10px !important","flex-wrap","wrap","gap","10px"],["style","padding: 1px 10px; color: white; border-radius: 20px; text-align: center; width: fit-content;",3,"ngStyle",4,"ngFor","ngForOf"],["id","titre2",2,"height","auto","width","100%"],[1,"titre1",2,"height","150px","width","100%","border","1px solid #ccc","border-radius","5px","padding-left","10px","display","flex","align-items","center","padding-right","10px","flex-wrap","wrap","gap","10px","padding-bottom","10px"],[1,"titre212"],[1,"titre212",2,"gap","10px"],["type","number","formControlName","price_city_delivery","required","",2,"width","50%","border","1px solid #ccc","padding","7px","background-color","white",3,"ngClass","placeholder"],["type","number","formControlName","price_no_city_delivery","required","",2,"width","50%","border","1px solid #ccc","padding","7px","background-color","white",3,"ngClass","placeholder"],[2,"width","100%","background-color","white","padding-top","10px","padding-top","5px","border","1px solid #f0f0f0","margin-top","20px","padding","5px","border-radius","5px","padding-bottom","15px"],["id","titre2",2,"width","auto"],["formControlName","price","type","number","placeholder","Prix de vente","required","",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px"],["id","changsep1",2,"display","flex","width","100%","gap","10px"],["type","number","formControlName","price_partner","placeholder","Commission daymond","required","",1,"titre1",2,"height","100%","width","100%","border","1px solid #ccc","border-radius","5px","height","40px","padding-left","10px",3,"input"],[2,"display","flex","justify-content","space-between","padding-left","10px","padding-right","10px","align-items","center","margin-top","10px","border","1px solid #FFC2C2","text-align","center","background-color","#FFF6F6","color","#FF5F84","border-radius","5px","width","30%"],[2,"margin-right","2px","margin-left","2px","font-weight","bold"],[1,"input-group","mb-3",2,"box-shadow","none","padding-top","20px"],["type","text","formControlName","link","placeholder","Lien de la video du produit","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control",2,"border","1px solid #ccc","border-radius","5px","box-shadow","none","padding-top","10px",3,"ngClass"],[1,"input-group-append"],["type","button",2,"padding-left","20px","padding-right","20px","border","1px solid #ccc","margin-top","20px","padding-top","7px","padding-bottom","7px","margin-right","2px","background-color","rgb(0, 106, 255)","color","white","border-radius","3px","border","none"],[1,"col-md-4","col-sm-6","mb-4",2,"min-width","300px","background-color","rgba(244, 244, 244, 0.743)","padding","10px","border-radius","10px","padding-bottom","10px"],["type","file","id","download_image","multiple","",2,"display","none",3,"change"],["for","download_image",1,"images1",2,"width","100%","height","250px","border-radius","10px","background-color","white","display","flex","align-items","center","justify-content","center","flex-direction","column","cursor","pointer"],["src","assets/img/downimage.png","alt","","width","50","height","50",2,"margin-right","10px"],[2,"text-align","center"],[1,"images1",2,"width","100%","border-radius","10px","display","flex","align-items","center","justify-content","center","margin-top","10px","gap","10px","flex-wrap","wrap"],["class","image-container","style","\n                position: relative;\n                width: 150px;\n                height: 150px;\n                border-radius: 10px;\n                background-color: white;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                flex-direction: column;\n                overflow: hidden;\n              ",4,"ngFor","ngForOf"],[1,"fa","fa-spinner","fa-spin"],[1,"invalid-feedback"],[3,"value"],[2,"padding","1px 10px","color","white","border-radius","20px","text-align","center","width","fit-content",3,"ngStyle"],[1,"image-container",2,"position","relative","width","150px","height","150px","border-radius","10px","background-color","white","display","flex","align-items","center","justify-content","center","flex-direction","column","overflow","hidden"],["alt","Product Image","width","100%","height","100%",2,"border-radius","5px",3,"src"],[1,"icons-overlay",2,"display","flex","gap","10px","position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)","opacity","0","transition","opacity 0.3s"],[3,"click"],[1,"fas","fa-eye",2,"cursor","pointer","color","white"],[1,"fas","fa-trash",2,"cursor","pointer","color","red"]],template:function(n,o){if(1&n&&(t.j41(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.nrm(6,"app-back-button"),t.j41(7,"p",6),t.EFF(8,"Publier un produit"),t.k0s()(),t.j41(9,"div",7),t.nrm(10,"img",8),t.j41(11,"p",9),t.EFF(12),t.nrm(13,"br"),t.j41(14,"span",10),t.EFF(15,"Fournisseur : 26789"),t.k0s()()()()(),t.j41(16,"div",11)(17,"button",12),t.bIt("click",function(){return o.publishProduct()}),t.DNE(18,jt,2,0,"span",13)(19,Et,3,0,"span",13),t.k0s()()(),t.j41(20,"div",14)(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18),t.nrm(25,"input",19),t.DNE(26,St,2,0,"div",20),t.k0s(),t.j41(27,"div",18),t.nrm(28,"input",21),t.k0s()(),t.j41(29,"div",22)(30,"div",23),t.nrm(31,"textarea",24),t.k0s()(),t.j41(32,"div",25)(33,"div",18)(34,"select",26),t.bIt("change",function(s){return o.onCategoryChange(s)}),t.j41(35,"option",27),t.EFF(36,"Cat\xe9gorie"),t.k0s(),t.DNE(37,It,2,2,"option",28),t.k0s()(),t.j41(38,"div",18)(39,"select",29)(40,"option",27),t.EFF(41,"Sous-Cat\xe9gorie"),t.k0s(),t.DNE(42,Rt,2,2,"option",28),t.k0s()()(),t.j41(43,"div",25)(44,"div",18)(45,"select",30)(46,"option",31),t.EFF(47,"\xc9tat du produit"),t.k0s(),t.DNE(48,$t,2,2,"option",28),t.k0s()(),t.j41(49,"div",18)(50,"select",32)(51,"option",31),t.EFF(52,"Marque"),t.k0s(),t.DNE(53,Bt,2,2,"option",28),t.k0s()(),t.j41(54,"div",18),t.nrm(55,"input",33),t.k0s()(),t.j41(56,"div",34)(57,"div",35)(58,"div",36)(59,"select",37),t.bIt("change",function(s){return o.onSizeChange(s)}),t.j41(60,"option",31),t.EFF(61," S\xe9lectionnez vos tailles "),t.k0s(),t.DNE(62,Gt,2,2,"option",28),t.k0s()(),t.j41(63,"label",38)(64,"span"),t.EFF(65,"Taille du produit"),t.k0s()()(),t.j41(66,"div",35)(67,"div",39)(68,"select",40),t.bIt("change",function(s){return o.onColorChange(s)}),t.j41(69,"option",31),t.EFF(70,"S\xe9lectionnez vos couleurs"),t.k0s(),t.DNE(71,Nt,2,2,"option",28),t.k0s(),t.j41(72,"div",41),t.DNE(73,Tt,2,4,"div",42),t.k0s()(),t.j41(74,"label",38)(75,"span"),t.EFF(76,"Couleur du produit"),t.k0s()()()(),t.j41(77,"div",43)(78,"div",44)(79,"div",45)(80,"p"),t.EFF(81,"Prix livraison"),t.k0s()(),t.j41(82,"div",46),t.nrm(83,"input",47)(84,"input",48),t.k0s()()(),t.j41(85,"div",49)(86,"div",50),t.nrm(87,"input",51),t.k0s(),t.j41(88,"div",52)(89,"div",18)(90,"input",53),t.bIt("input",function(s){return o.onDaymondChange(s)}),t.k0s()(),t.j41(91,"div",54),t.EFF(92," Le vendeur re\xe7oit "),t.j41(93,"span",55),t.EFF(94),t.k0s(),t.EFF(95," FCFA "),t.k0s()()(),t.nrm(96,"div",25),t.j41(97,"div",56),t.nrm(98,"input",57),t.j41(99,"div",58)(100,"button",59),t.EFF(101," Coller "),t.k0s()()()(),t.j41(102,"div",60)(103,"input",61),t.bIt("change",function(s){return o.onFileSelected(s)}),t.k0s(),t.j41(104,"label",62),t.nrm(105,"img",63),t.j41(106,"p",64),t.EFF(107," S\xe9lectionner des images "),t.nrm(108,"br"),t.EFF(109," (8 minimum) "),t.k0s()(),t.j41(110,"div",65),t.DNE(111,Yt,7,1,"div",66),t.k0s()()()()()()),2&n){let r,s,u,c,f,x,v,C,F,P,k,w,O;t.R7$(),t.Y8G("formGroup",o.productForm),t.R7$(9),t.Y8G("src",null==o.product||null==o.product.shop||null==o.product.shop.business?null:o.product.shop.business.logo,t.B4B),t.R7$(2),t.SpI(" ",null==o.product||null==o.product.shop||null==o.product.shop.business?null:o.product.shop.business.name," "),t.R7$(6),t.Y8G("ngIf",!o.isLoading),t.R7$(),t.Y8G("ngIf",o.isLoading),t.R7$(6),t.Y8G("ngClass",t.eq3(29,b,(null==(r=o.productForm.get("name"))?null:r.touched)&&(null==(r=o.productForm.get("name"))?null:r.invalid))),t.R7$(),t.Y8G("ngIf",(null==(s=o.productForm.get("name"))?null:s.touched)&&(null==(s=o.productForm.get("name"))?null:s.invalid)),t.R7$(2),t.Y8G("ngClass",t.eq3(31,b,(null==(u=o.productForm.get("name"))?null:u.touched)&&(null==(u=o.productForm.get("name"))?null:u.invalid))),t.R7$(3),t.Y8G("ngClass",t.eq3(33,b,(null==(c=o.productForm.get("name"))?null:c.touched)&&(null==(c=o.productForm.get("name"))?null:c.invalid))),t.R7$(3),t.Y8G("ngClass",t.eq3(35,b,(null==(f=o.productForm.get("name"))?null:f.touched)&&(null==(f=o.productForm.get("name"))?null:f.invalid))),t.R7$(3),t.Y8G("ngForOf",o.listCategories),t.R7$(2),t.Y8G("ngClass",t.eq3(37,b,(null==(x=o.productForm.get("name"))?null:x.touched)&&(null==(x=o.productForm.get("name"))?null:x.invalid))),t.R7$(3),t.Y8G("ngForOf",o.listSubCategories),t.R7$(3),t.Y8G("ngClass",t.eq3(39,b,(null==(v=o.productForm.get("name"))?null:v.touched)&&(null==(v=o.productForm.get("name"))?null:v.invalid))),t.R7$(3),t.Y8G("ngForOf",o.listStates),t.R7$(5),t.Y8G("ngForOf",o.listBrand),t.R7$(2),t.Y8G("ngClass",t.eq3(41,b,(null==(C=o.productForm.get("name"))?null:C.touched)&&(null==(C=o.productForm.get("name"))?null:C.invalid))),t.R7$(4),t.Y8G("ngClass",t.eq3(43,b,(null==(F=o.productForm.get("name"))?null:F.touched)&&(null==(F=o.productForm.get("name"))?null:F.invalid))),t.R7$(3),t.Y8G("ngForOf",o.sizes),t.R7$(5),t.Y8G("ngClass",t.eq3(45,b,(null==(P=o.productForm.get("name"))?null:P.touched)&&(null==(P=o.productForm.get("name"))?null:P.invalid))),t.R7$(4),t.Y8G("ngForOf",o.colors),t.R7$(2),t.Y8G("ngForOf",o.selectedColors),t.R7$(10),t.Y8G("ngClass",t.eq3(47,b,(null==(k=o.productForm.get("name"))?null:k.touched)&&(null==(k=o.productForm.get("name"))?null:k.invalid)))("placeholder","Dans la ville"),t.R7$(),t.Y8G("ngClass",t.eq3(49,b,(null==(w=o.productForm.get("name"))?null:w.touched)&&(null==(w=o.productForm.get("name"))?null:w.invalid)))("placeholder","Hors de ville"),t.R7$(10),t.JRh(o.commissionVendeur),t.R7$(4),t.Y8G("ngClass",t.eq3(51,b,(null==(O=o.productForm.get("name"))?null:O.touched)&&(null==(O=o.productForm.get("name"))?null:O.invalid))),t.R7$(13),t.Y8G("ngForOf",null==o.product?null:o.product.images)}},dependencies:[l.MD,l.YU,l.Sq,l.bT,l.B3,m.iI,d.YN,d.qT,d.xH,d.y7,d.me,d.Q0,d.wz,d.BC,d.cb,d.YS,d.X1,d.j4,d.JD,S.X],styles:[".image-container[_ngcontent-%COMP%]:hover   .icons-overlay[_ngcontent-%COMP%]{opacity:1!important;background-color:#3b3d3ab8;padding:10px;border-radius:10px}.titre212[_ngcontent-%COMP%]{height:50px;width:100%;display:flex;justify-content:space-between;align-items:center;padding-top:20px}#titre2[_ngcontent-%COMP%]{width:500px;height:40px;position:relative;margin-top:10px}#titre2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:10px;position:absolute;left:10px;pointer-events:none}@media (max-width: 1000px){#changsep[_ngcontent-%COMP%]{width:100%;height:auto}#changsep1[_ngcontent-%COMP%]{flex-wrap:wrap}#titre2[_ngcontent-%COMP%]{width:100%;height:40px;position:relative;margin-top:10px}#titre2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:10px;position:absolute;left:10px;pointer-events:none}}@media (min-width: 1000px){#changsep1[_ngcontent-%COMP%]{flex-wrap:nowrap}#changsep[_ngcontent-%COMP%]{min-width:700px;height:auto}#titre2[_ngcontent-%COMP%]{width:500px;height:40px;position:relative;margin-top:10px}#titre2[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:10px;position:absolute;left:10px;pointer-events:none}}#titre1[_ngcontent-%COMP%]:focus ~ #titre[_ngcontent-%COMP%]{top:-11px;background-color:#fff;left:10px;padding-left:5px;padding-right:5px;color:#ff9500;z-index:99999}.card-1[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #3688fa;border-radius:10px}.card-1[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#3688fa;text-transform:uppercase}.card-2[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #f87957;border-radius:10px}.card-2[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#f87957}.card-2[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#f87957;text-transform:uppercase}.card-3[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #36c600;border-radius:10px}.card-3[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#36c600}.card-3[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#36c600;text-transform:uppercase}.card-4[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border:1px solid #ff9500;border-radius:10px}.card-4[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#ff9500}.card-4[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem;color:#ff9500;text-transform:uppercase}.container-fluid[_ngcontent-%COMP%]{width:auto!important;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]{justify-content:flex-end!important;border-bottom:#00000029 1px solid;width:inherit}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border:1px solid #c4c4c4!important;color:#707070!important}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{background-color:#ff9500!important;border:1px solid #ff9500!important;color:#fff!important}.container-fluid[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn-tri[_ngcontent-%COMP%]{border:1px solid #c4c4c4!important;color:#707070!important}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover, .container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{background-color:#3688fa!important;border:1px solid #3ca2ff!important;color:#fff!important;font-weight:700}.container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover, .container-fluid[_ngcontent-%COMP%]   .box-1[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:focus{background-color:#ff9500!important;border:1px solid #ff9500!important;color:#fff!important;font-weight:400}.product-card[_ngcontent-%COMP%]{width:100%;background-color:#fff;position:relative;border-color:#f8f8fb}.product-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px}.product-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{border-radius:10px;width:100%;height:200px;object-fit:cover;box-shadow:0 4px 8px #0003}.product-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.product-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{margin-top:0}.product-card[_ngcontent-%COMP%]   .card-price[_ngcontent-%COMP%]{font-weight:700;color:#3688fa}.product-card[_ngcontent-%COMP%]   .stock-number[_ngcontent-%COMP%]{color:#3688fa!important}@media (max-width: 768px){.product-card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:300px;object-fit:cover;box-shadow:0 4px 8px #0003}}.search-bar[_ngcontent-%COMP%]{position:relative;width:500px}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;padding:10px 20px;border:1px solid #ccc;border-radius:20px!important;transition:border-color .3s ease}.input-group[_ngcontent-%COMP%]{margin-right:15px}.input-group-append[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:0;top:50%;transform:translateY(-50%)}.input-group-text[_ngcontent-%COMP%]{background:transparent;border:none;padding-right:10px}.input-group-bar[_ngcontent-%COMP%]{width:1px;height:20px;background-color:#999;margin-right:6px}.search-icon[_ngcontent-%COMP%]{color:#999}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:red;outline:none}.search-bar[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(:placeholder-shown){border-color:red}"]})}}return i})();var zt=g(3887);const At=[{path:"",component:R},{path:"detail/:id",component:pt},{path:"add",component:Ot},{path:"publish/:id",component:Dt},{path:"delete/:id",component:R}];let Vt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[l.MD,zt.G,m.iI.forChild(At)]})}}return i})()}}]);